<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="850px" preserveAspectRatio="none" style="width:681px;height:850px;" version="1.1" viewBox="0 0 681 850" width="681px" zoomAndPan="magnify"><defs><filter height="300%" id="ff4v48u0h2uqe" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4167b37e00f667afd305bc0fd4e9189b]
cluster com.ibm.fhir.smart--><polygon fill="#FFFFFF" filter="url(#ff4v48u0h2uqe)" points="14,335,168,335,175,357.2969,659,357.2969,659,810,14,810,14,335" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="175" y1="357.2969" y2="357.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="18" y="349.9951">com.ibm.fhir.smart</text><!--MD5=[4d1582405582576450a585ca3a77c3a1]
cluster com.ibm.fhir.persistence.interceptor--><polygon fill="#FFFFFF" filter="url(#ff4v48u0h2uqe)" points="31,16,328,16,335,38.2969,338,38.2969,338,304,31,304,31,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="31" x2="335" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="35" y="30.9951">com.ibm.fhir.persistence.interceptor</text><!--MD5=[44238d50007ec0df46574e64d712a6bb]
class com.ibm.fhir.smart.Scope--><a href="Scope.html" target="_top" title="Scope.html" xlink:actuate="onRequest" xlink:href="Scope.html" xlink:show="new" xlink:title="Scope.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="99.2188" id="com.ibm.fhir.smart.Scope" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="381.5" y="407"/><ellipse cx="492.25" cy="423" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M495.2188,428.6406 Q494.6406,428.9375 494,429.0781 Q493.3594,429.2344 492.6563,429.2344 Q490.1563,429.2344 488.8281,427.5938 Q487.5156,425.9375 487.5156,422.8125 Q487.5156,419.6875 488.8281,418.0313 Q490.1563,416.375 492.6563,416.375 Q493.3594,416.375 494,416.5313 Q494.6563,416.6875 495.2188,416.9844 L495.2188,419.7031 Q494.5938,419.125 494,418.8594 Q493.4063,418.5781 492.7813,418.5781 Q491.4375,418.5781 490.75,419.6563 Q490.0625,420.7188 490.0625,422.8125 Q490.0625,424.9063 490.75,425.9844 Q491.4375,427.0469 492.7813,427.0469 Q493.4063,427.0469 494,426.7813 Q494.5938,426.5 495.2188,425.9219 L495.2188,428.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="512.75" y="427.1543">Scope</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="382.5" x2="649.5" y1="439" y2="439"/><ellipse cx="392.5" cy="450" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="172" x="401.5" y="453.2104">SCOPE_STRING_REGEX: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="382.5" x2="649.5" y1="459.8047" y2="459.8047"/><ellipse cx="392.5" cy="470.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="401.5" y="474.0151">Scope(String)</text><ellipse cx="392.5" cy="483.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="243" x="401.5" y="486.8198">Scope(ContextType, ValueSet, Permission)</text><ellipse cx="392.5" cy="496.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="401.5" y="499.6245">getResourceType(): ValueSet</text></a><!--MD5=[56aa21b8b4fa4b7493dcc5412ccc0978]
class com.ibm.fhir.smart.Scope.ContextType--><a href="Scope.ContextType.html" target="_top" title="Scope.ContextType.html" xlink:actuate="onRequest" xlink:href="Scope.ContextType.html" xlink:show="new" xlink:title="Scope.ContextType.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="99.2188" id="com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="251.5" y="696.5"/><ellipse cx="275.95" cy="712.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M280.0594,718.5 L272.3406,718.5 L272.3406,706.1094 L280.0594,706.1094 L280.0594,708.2656 L274.7938,708.2656 L274.7938,710.9375 L279.5594,710.9375 L279.5594,713.0938 L274.7938,713.0938 L274.7938,716.3438 L280.0594,716.3438 L280.0594,718.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="292.05" y="716.6543">Scope.ContextType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="252.5" x2="423.5" y1="728.5" y2="728.5"/><ellipse cx="262.5" cy="739.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="46" x="271.5" y="742.7104">PATIENT</text><ellipse cx="262.5" cy="752.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="30" x="271.5" y="755.5151">USER</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="252.5" x2="423.5" y1="762.1094" y2="762.1094"/><ellipse cx="262.5" cy="773.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="271.5" y="776.3198">value(): String</text><ellipse cx="262.5" cy="785.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="147" x="271.5" y="789.1245">from(String): ContextType</text></a><!--MD5=[6d118bb7832278cd645cbae78a176c98]
class com.ibm.fhir.smart.Scope.Permission--><a href="Scope.Permission.html" target="_top" title="Scope.Permission.html" xlink:actuate="onRequest" xlink:href="Scope.Permission.html" xlink:show="new" xlink:title="Scope.Permission.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="112.0234" id="com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="476.5" y="690"/><ellipse cx="502.3" cy="706" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M506.4094,712 L498.6906,712 L498.6906,699.6094 L506.4094,699.6094 L506.4094,701.7656 L501.1438,701.7656 L501.1438,704.4375 L505.9094,704.4375 L505.9094,706.5938 L501.1438,706.5938 L501.1438,709.8438 L506.4094,709.8438 L506.4094,712 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="518.7" y="710.1543">Scope.Permission</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="477.5" x2="642.5" y1="722" y2="722"/><ellipse cx="487.5" cy="733" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="29" x="496.5" y="736.2104">READ</text><ellipse cx="487.5" cy="745.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="33" x="496.5" y="749.0151">WRITE</text><ellipse cx="487.5" cy="758.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="19" x="496.5" y="761.8198">ALL</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="477.5" x2="642.5" y1="768.4141" y2="768.4141"/><ellipse cx="487.5" cy="779.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="496.5" y="782.6245">value(): String</text><ellipse cx="487.5" cy="792.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141" x="496.5" y="795.4292">from(String): Permission</text></a><!--MD5=[c0338eaa55ebc8af3e3dd4004fae3232]
class com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor--><a href="AuthzPolicyEnforcementPersistenceInterceptor.html" target="_top" title="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:actuate="onRequest" xlink:href="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:show="new" xlink:title="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="188.8516" id="com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.5;" width="325" x="21.5" y="362"/><ellipse cx="36.5" cy="378" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M39.4688,383.6406 Q38.8906,383.9375 38.25,384.0781 Q37.6094,384.2344 36.9063,384.2344 Q34.4063,384.2344 33.0781,382.5938 Q31.7656,380.9375 31.7656,377.8125 Q31.7656,374.6875 33.0781,373.0313 Q34.4063,371.375 36.9063,371.375 Q37.6094,371.375 38.25,371.5313 Q38.9063,371.6875 39.4688,371.9844 L39.4688,374.7031 Q38.8438,374.125 38.25,373.8594 Q37.6563,373.5781 37.0313,373.5781 Q35.6875,373.5781 35,374.6563 Q34.3125,375.7188 34.3125,377.8125 Q34.3125,379.9063 35,380.9844 Q35.6875,382.0469 37.0313,382.0469 Q37.6563,382.0469 38.25,381.7813 Q38.8438,381.5 39.4688,380.9219 L39.4688,383.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="293" x="50.5" y="382.1543">AuthzPolicyEnforcementPersistenceInterceptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="345.5" y1="394" y2="394"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="345.5" y1="402" y2="402"/><ellipse cx="32.5" cy="413" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="41.5" y="416.2104">beforeRead(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="425.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="41.5" y="429.0151">beforeVread(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="438.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="41.5" y="441.8198">beforeHistory(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="451.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="41.5" y="454.6245">beforeSearch(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="464.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="41.5" y="467.4292">beforeCreate(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="477.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="41.5" y="480.2339">beforeDelete(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="489.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="41.5" y="493.0386">beforeUpdate(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="502.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="41.5" y="505.8433">afterRead(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="515.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="41.5" y="518.6479">afterVread(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="528.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="41.5" y="531.4526">afterHistory(FHIRPersistenceEvent): void</text><ellipse cx="32.5" cy="541.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="41.5" y="544.2573">afterSearch(FHIRPersistenceEvent): void</text></a><!--MD5=[68526322b6371f2a67e45800e6cbc0cb]
class com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor--><a href="../persistence/interceptor/FHIRPersistenceInterceptor.html" target="_top" title="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:actuate="onRequest" xlink:href="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:show="new" xlink:title="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="252.875" id="com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="52" y="43"/><ellipse cx="94.45" cy="59" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M90.3719,54.7656 L90.3719,52.6094 L97.7625,52.6094 L97.7625,54.7656 L95.2938,54.7656 L95.2938,62.8438 L97.7625,62.8438 L97.7625,65 L90.3719,65 L90.3719,62.8438 L92.8406,62.8438 L92.8406,54.7656 L90.3719,54.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="171" x="114.55" y="63.1543">FHIRPersistenceInterceptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="53" x2="315" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="53" x2="315" y1="83" y2="83"/><ellipse cx="63" cy="94" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="72" y="97.2104">beforeCreate(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="106.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="72" y="110.0151">afterCreate(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="119.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="72" y="122.8198">beforeUpdate(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="132.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="72" y="135.6245">afterUpdate(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="145.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="72" y="148.4292">beforePatch(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="158.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="72" y="161.2339">afterPatch(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="170.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="72" y="174.0386">beforeDelete(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="183.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="72" y="186.8433">afterDelete(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="196.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="72" y="199.6479">beforeRead(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="209.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="72" y="212.4526">afterRead(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="222.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="72" y="225.2573">beforeVread(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="234.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="72" y="238.062">afterVread(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="247.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="72" y="250.8667">beforeHistory(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="260.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="72" y="263.6714">afterHistory(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="273.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="72" y="276.4761">beforeSearch(FHIRPersistenceEvent): void</text><ellipse cx="63" cy="286.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="72" y="289.2808">afterSearch(FHIRPersistenceEvent): void</text></a><!--MD5=[ec7b32564aacc75a429e343a0793854b]
link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.ContextType--><path d="M449.2577,506.2903 C417.1638,533.8592 381.1558,570.8489 360,612 C347.5198,636.2757 341.8284,666.0025 339.3379,691.2842 " fill="none" id="com.ibm.fhir.smart.Scope-&gt;com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="338.8814,696.2783,343.6843,687.6799,339.3367,691.2991,335.7175,686.9515,338.8814,696.2783" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="361" y="625.0669">contextType</text><!--MD5=[f861da63962d555854ff1d7de78956e6]
reverse link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.ContextType--><path d="M495.1648,520.6603 C482.8043,554.2834 465.3666,595.3519 444,629 C428.7929,652.9481 408.5558,676.6563 389.8417,696.4041 " fill="none" id="com.ibm.fhir.smart.Scope&lt;-com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="497.6191" cy="513.8029" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="494.9234" x2="500.3149" y1="521.335" y2="506.2708"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="490.087" x2="505.1512" y1="511.1071" y2="516.4987"/><!--MD5=[8dff19de309195a577bb3d1931903e50]
link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.Permission--><path d="M523.5639,506.2668 C531.0856,555.7564 542.6382,631.7673 550.7127,684.8935 " fill="none" id="com.ibm.fhir.smart.Scope-&gt;com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="551.4829,689.9617,554.0849,680.4628,550.7315,685.0185,546.1758,681.665,551.4829,689.9617" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="543" y="625.0669">permission</text><!--MD5=[da825bdbcb69e771284b8dda994b5025]
reverse link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.Permission--><path d="M570.6697,518.2184 C590.9587,545.094 611.5622,578.1568 622,612 C630.159,638.4544 620.3991,666.4371 606.3874,689.9502 " fill="none" id="com.ibm.fhir.smart.Scope&lt;-com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="566.323" cy="512.6368" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="571.2385" x2="561.4076" y1="518.9486" y2="506.325"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="560.0113" x2="572.6348" y1="517.5522" y2="507.7213"/><!--MD5=[fef3b9ea9f67f7720f5d5c9c92cc8fa1]
reverse link com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor to com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor--><path d="M184,316.2239 C184,331.7497 184,347.2252 184,361.9228 " fill="none" id="com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor&lt;-com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="177.0001,316.2178,184,296.2178,191.0001,316.2178,177.0001,316.2178" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="249.5" y="837.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[4339ad85acd8b3af9427fd70535854d3]
@startuml
    namespace com.ibm.fhir.smart {

        class Scope [[Scope.html]] {
            {static} +SCOPE_STRING_REGEX: String
            +Scope(String)
            +Scope(ContextType, ValueSet, Permission)
            +getResourceType(): ValueSet
        }

        enum com.ibm.fhir.smart.Scope.ContextType [[Scope.ContextType.html]] {
            {static} +PATIENT
            {static} +USER
            +value(): String
            {static} +from(String): ContextType
        }

        enum com.ibm.fhir.smart.Scope.Permission [[Scope.Permission.html]] {
            {static} +READ
            {static} +WRITE
            {static} +ALL
            +value(): String
            {static} +from(String): Permission
        }

        class AuthzPolicyEnforcementPersistenceInterceptor [[AuthzPolicyEnforcementPersistenceInterceptor.html]] {
            +beforeRead(FHIRPersistenceEvent): void
            +beforeVread(FHIRPersistenceEvent): void
            +beforeHistory(FHIRPersistenceEvent): void
            +beforeSearch(FHIRPersistenceEvent): void
            +beforeCreate(FHIRPersistenceEvent): void
            +beforeDelete(FHIRPersistenceEvent): void
            +beforeUpdate(FHIRPersistenceEvent): void
            +afterRead(FHIRPersistenceEvent): void
            +afterVread(FHIRPersistenceEvent): void
            +afterHistory(FHIRPersistenceEvent): void
            +afterSearch(FHIRPersistenceEvent): void
        }

        Scope - -> com.ibm.fhir.smart.Scope.ContextType: contextType
        Scope - -> com.ibm.fhir.smart.Scope.Permission: permission
        Scope +- - com.ibm.fhir.smart.Scope.ContextType
        Scope +- - com.ibm.fhir.smart.Scope.Permission
        com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor <|.. AuthzPolicyEnforcementPersistenceInterceptor
    }

    namespace com.ibm.fhir.persistence.interceptor {
        interface FHIRPersistenceInterceptor [[../persistence/interceptor/FHIRPersistenceInterceptor.html]] {
            +beforeCreate(FHIRPersistenceEvent): void
            +afterCreate(FHIRPersistenceEvent): void
            +beforeUpdate(FHIRPersistenceEvent): void
            +afterUpdate(FHIRPersistenceEvent): void
            +beforePatch(FHIRPersistenceEvent): void
            +afterPatch(FHIRPersistenceEvent): void
            +beforeDelete(FHIRPersistenceEvent): void
            +afterDelete(FHIRPersistenceEvent): void
            +beforeRead(FHIRPersistenceEvent): void
            +afterRead(FHIRPersistenceEvent): void
            +beforeVread(FHIRPersistenceEvent): void
            +afterVread(FHIRPersistenceEvent): void
            +beforeHistory(FHIRPersistenceEvent): void
            +afterHistory(FHIRPersistenceEvent): void
            +beforeSearch(FHIRPersistenceEvent): void
            +afterSearch(FHIRPersistenceEvent): void
        }
    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>