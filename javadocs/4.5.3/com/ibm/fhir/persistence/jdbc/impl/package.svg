<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="836px" preserveAspectRatio="none" style="width:2009px;height:836px;" version="1.1" viewBox="0 0 2009 836" width="2009px" zoomAndPan="magnify"><defs><filter height="300%" id="flbpoqgiufeck" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a78aa07c4681f19594b59707289ee5ae]
cluster com.ibm.fhir.persistence.jdbc.impl--><polygon fill="#FFFFFF" filter="url(#flbpoqgiufeck)" points="14,303,292,303,299,325.2969,1987,325.2969,1987,796,14,796,14,303" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="299" y1="325.2969" y2="325.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="272" x="18" y="317.9951">com.ibm.fhir.persistence.jdbc.impl</text><!--MD5=[9e3d4feafcd79803ad2b84f4e6a2f74f]
cluster com.ibm.fhir.persistence--><polygon fill="#FFFFFF" filter="url(#flbpoqgiufeck)" points="66,16,269,16,276,38.2969,949,38.2969,949,278,66,278,66,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="66" x2="276" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="70" y="30.9951">com.ibm.fhir.persistence</text><!--MD5=[78d81e529ea9a14263826578c5704071]
cluster com.ibm.fhir.persistence.jdbc--><polygon fill="#FFFFFF" filter="url(#flbpoqgiufeck)" points="817,103,856,103,863,125.2969,941,125.2969,941,191,817,191,817,103" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="817" x2="863" y1="125.2969" y2="125.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="821" y="117.9951">jdbc</text><!--MD5=[37920ce3dc7647198e7b31996be53228]
cluster javax.transaction--><polygon fill="#FFFFFF" filter="url(#flbpoqgiufeck)" points="1069,92.5,1209,92.5,1216,114.7969,1255,114.7969,1255,201.5,1069,201.5,1069,92.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1069" x2="1216" y1="114.7969" y2="114.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="134" x="1073" y="107.4951">javax.transaction</text><!--MD5=[d38f71f10f90cf01785b66b6c874f695]
class com.ibm.fhir.persistence.jdbc.impl.ParameterTransactionDataImpl--><a href="ParameterTransactionDataImpl.html" target="_top" title="ParameterTransactionDataImpl.html" xlink:actuate="onRequest" xlink:href="ParameterTransactionDataImpl.html" xlink:show="new" xlink:title="ParameterTransactionDataImpl.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#flbpoqgiufeck)" height="86.4141" id="com.ibm.fhir.persistence.jdbc.impl.ParameterTransactionDataImpl" style="stroke: #A80036; stroke-width: 1.5;" width="497" x="1481.5" y="516"/><ellipse cx="1628.25" cy="532" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1631.2188,537.6406 Q1630.6406,537.9375 1630,538.0781 Q1629.3594,538.2344 1628.6563,538.2344 Q1626.1563,538.2344 1624.8281,536.5938 Q1623.5156,534.9375 1623.5156,531.8125 Q1623.5156,528.6875 1624.8281,527.0313 Q1626.1563,525.375 1628.6563,525.375 Q1629.3594,525.375 1630,525.5313 Q1630.6563,525.6875 1631.2188,525.9844 L1631.2188,528.7031 Q1630.5938,528.125 1630,527.8594 Q1629.4063,527.5781 1628.7813,527.5781 Q1627.4375,527.5781 1626.75,528.6563 Q1626.0625,529.7188 1626.0625,531.8125 Q1626.0625,533.9063 1626.75,534.9844 Q1627.4375,536.0469 1628.7813,536.0469 Q1629.4063,536.0469 1630,535.7813 Q1630.5938,535.5 1631.2188,534.9219 L1631.2188,537.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="195" x="1648.75" y="536.1543">ParameterTransactionDataImpl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1482.5" x2="1977.5" y1="548" y2="548"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1482.5" x2="1977.5" y1="556" y2="556"/><ellipse cx="1492.5" cy="567" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="471" x="1501.5" y="570.2104">ParameterTransactionDataImpl(String, FHIRPersistenceJDBCImpl, UserTransaction)</text><ellipse cx="1492.5" cy="579.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="1501.5" y="583.0151">persist(): void</text><ellipse cx="1492.5" cy="592.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="1501.5" y="595.8198">addValue(ResourceTokenValueRec): void</text></a><!--MD5=[d77abe0fcec67280188f3ee81b9d7e7c]
class com.ibm.fhir.persistence.jdbc.impl.FHIRPersistenceJDBCImpl--><a href="FHIRPersistenceJDBCImpl.html" target="_top" title="FHIRPersistenceJDBCImpl.html" xlink:actuate="onRequest" xlink:href="FHIRPersistenceJDBCImpl.html" xlink:show="new" xlink:title="FHIRPersistenceJDBCImpl.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#flbpoqgiufeck)" height="457.75" id="com.ibm.fhir.persistence.jdbc.impl.FHIRPersistenceJDBCImpl" style="stroke: #A80036; stroke-width: 1.5;" width="821" x="21.5" y="330"/><ellipse cx="350.75" cy="346" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M353.7188,351.6406 Q353.1406,351.9375 352.5,352.0781 Q351.8594,352.2344 351.1563,352.2344 Q348.6563,352.2344 347.3281,350.5938 Q346.0156,348.9375 346.0156,345.8125 Q346.0156,342.6875 347.3281,341.0313 Q348.6563,339.375 351.1563,339.375 Q351.8594,339.375 352.5,339.5313 Q353.1563,339.6875 353.7188,339.9844 L353.7188,342.7031 Q353.0938,342.125 352.5,341.8594 Q351.9063,341.5781 351.2813,341.5781 Q349.9375,341.5781 349.25,342.6563 Q348.5625,343.7188 348.5625,345.8125 Q348.5625,347.9063 349.25,348.9844 Q349.9375,350.0469 351.2813,350.0469 Q351.9063,350.0469 352.5,349.7813 Q353.0938,349.5 353.7188,348.9219 L353.7188,351.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="371.25" y="350.1543">FHIRPersistenceJDBCImpl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="841.5" y1="362" y2="362"/><polygon fill="none" points="32.5,368,36.5,372,32.5,376,28.5,372" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="129" x="41.5" y="376.2104">TXN_JNDI_NAME: String</text><ellipse cx="32.5" cy="385.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="202" x="41.5" y="389.0151">TRX_SYNCH_REG_JNDI_NAME: String</text><polygon fill="none" points="32.5,393.6094,36.5,397.6094,32.5,401.6094,28.5,397.6094" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="41.5" y="401.8198">userTransaction: UserTransaction</text><polygon fill="none" points="32.5,406.4141,36.5,410.4141,32.5,414.4141,28.5,410.4141" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="41.5" y="414.6245">updateCreateEnabled: Boolean</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="841.5" y1="421.2188" y2="421.2188"/><ellipse cx="32.5" cy="432.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="41.5" y="435.4292">FHIRPersistenceJDBCImpl(FHIRPersistenceJDBCCache)</text><ellipse cx="32.5" cy="445.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="491" x="41.5" y="448.2339">FHIRPersistenceJDBCImpl(Properties, IConnectionProvider, FHIRPersistenceJDBCCache)</text><ellipse cx="32.5" cy="457.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="606" x="41.5" y="461.0386">FHIRPersistenceJDBCImpl(Properties, IConnectionProvider, FHIRConfigProvider, FHIRPersistenceJDBCCache)</text><polygon fill="#FFFF44" points="32.5,465.6328,36.5,469.6328,32.5,473.6328,28.5,469.6328" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="41.5" y="473.8433">buildActionChain(): Action</text><ellipse cx="32.5" cy="483.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="561" x="41.5" y="486.6479">create(FHIRPersistenceContext, T extends Resource): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="32.5" cy="496.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="606" x="41.5" y="499.4526">update(FHIRPersistenceContext, String, T extends Resource): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="32.5" cy="509.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="544" x="41.5" y="512.2573">search(FHIRPersistenceContext, Class&lt;? extends Resource&gt;): MultiResourceResult&lt;Resource&gt;</text><ellipse cx="32.5" cy="521.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="652" x="41.5" y="525.062">delete(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="32.5" cy="534.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="643" x="41.5" y="537.8667">read(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="32.5" cy="547.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="647" x="41.5" y="550.6714">history(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String): MultiResourceResult&lt;T extends Resource&gt;</text><ellipse cx="32.5" cy="560.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="691" x="41.5" y="563.4761">vread(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String, String): SingleResourceResult&lt;T extends Resource&gt;</text><polygon fill="#FFFF44" points="32.5,568.0703,36.5,572.0703,32.5,576.0703,28.5,572.0703" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="795" x="41.5" y="576.2808">buildSortedFhirResources(ResourceDAO, FHIRPersistenceContext, Class&lt;? extends Resource&gt;, List&lt;Long&gt;, List&lt;String&gt;): List&lt;Resource&gt;</text><polygon fill="#FFFF44" points="32.5,580.875,36.5,584.875,32.5,588.875,28.5,584.875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="587" x="41.5" y="589.0854">convertResourceDTOList(List&lt;Resource&gt;, Class&lt;? extends Resource&gt;, List&lt;String&gt;): List&lt;Resource&gt;</text><polygon fill="#FFFF44" points="32.5,593.6797,36.5,597.6797,32.5,601.6797,28.5,597.6797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="425" x="41.5" y="601.8901">addCompartmentParams(List&lt;ExtractedParameterValue&gt;, Resource): void</text><ellipse cx="32.5" cy="611.4844" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="41.5" y="614.6948">getHealth(): OperationOutcome</text><polygon fill="#FFFF44" points="32.5,619.2891,36.5,623.2891,32.5,627.2891,28.5,623.2891" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="41.5" y="627.4995">retrieveUserTransaction(String): UserTransaction</text><polygon fill="#FFFF44" points="32.5,632.0938,36.5,636.0938,32.5,640.0938,28.5,636.0938" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="568" x="41.5" y="640.3042">convertResourceDTOList(List&lt;Resource&gt;, Class&lt;T extends Resource&gt;): List&lt;T extends Resource&gt;</text><polygon fill="#FFFF44" points="32.5,644.8984,36.5,648.8984,32.5,652.8984,28.5,648.8984" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="526" x="41.5" y="653.1089">convertResourceDTOListOld(List&lt;Resource&gt;, Class&lt;? extends Resource&gt;): List&lt;Resource&gt;</text><ellipse cx="32.5" cy="662.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="41.5" y="665.9136">isTransactional(): boolean</text><ellipse cx="32.5" cy="675.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="41.5" y="678.7183">getTransaction(): FHIRPersistenceTransaction</text><ellipse cx="32.5" cy="688.3125" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="41.5" y="691.5229">isDeleteSupported(): boolean</text><ellipse cx="32.5" cy="701.1172" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="41.5" y="704.3276">getSchemaForRequestContext(Connection): String</text><ellipse cx="32.5" cy="713.9219" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="41.5" y="717.1323">doCachePrefill(Connection): void</text><ellipse cx="32.5" cy="726.7266" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="41.5" y="729.937">isReindexSupported(): boolean</text><ellipse cx="32.5" cy="739.5313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="343" x="41.5" y="742.7417">reindex(FHIRPersistenceContext, Builder, Instant, String): int</text><ellipse cx="32.5" cy="752.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="676" x="41.5" y="755.5464">updateParameters(ResourceIndexRecord, Class&lt;T extends Resource&gt;, Resource, ReindexResourceDAO, Builder): void</text><ellipse cx="32.5" cy="765.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="41.5" y="768.3511">generateResourceId(): String</text><ellipse cx="32.5" cy="777.9453" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="454" x="41.5" y="781.1558">persistResourceTokenValueRecords(Collection&lt;ResourceTokenValueRec&gt;): void</text></a><!--MD5=[d6e446985cab867a6a8dd803d2ed4399]
class com.ibm.fhir.persistence.jdbc.impl.CacheTransactionSync--><a href="CacheTransactionSync.html" target="_top" title="CacheTransactionSync.html" xlink:actuate="onRequest" xlink:href="CacheTransactionSync.html" xlink:show="new" xlink:title="CacheTransactionSync.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#flbpoqgiufeck)" height="86.4141" id="com.ibm.fhir.persistence.jdbc.impl.CacheTransactionSync" style="stroke: #A80036; stroke-width: 1.5;" width="568" x="878" y="516"/><ellipse cx="1086.75" cy="532" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1089.7188,537.6406 Q1089.1406,537.9375 1088.5,538.0781 Q1087.8594,538.2344 1087.1563,538.2344 Q1084.6563,538.2344 1083.3281,536.5938 Q1082.0156,534.9375 1082.0156,531.8125 Q1082.0156,528.6875 1083.3281,527.0313 Q1084.6563,525.375 1087.1563,525.375 Q1087.8594,525.375 1088.5,525.5313 Q1089.1563,525.6875 1089.7188,525.9844 L1089.7188,528.7031 Q1089.0938,528.125 1088.5,527.8594 Q1087.9063,527.5781 1087.2813,527.5781 Q1085.9375,527.5781 1085.25,528.6563 Q1084.5625,529.7188 1084.5625,531.8125 Q1084.5625,533.9063 1085.25,534.9844 Q1085.9375,536.0469 1087.2813,536.0469 Q1087.9063,536.0469 1088.5,535.7813 Q1089.0938,535.5 1089.7188,534.9219 L1089.7188,537.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="1107.25" y="536.1543">CacheTransactionSync</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="879" x2="1445" y1="548" y2="548"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="879" x2="1445" y1="556" y2="556"/><ellipse cx="889" cy="567" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="542" x="898" y="570.2104">CacheTransactionSync(TransactionSynchronizationRegistry, FHIRPersistenceJDBCCache, String)</text><ellipse cx="889" cy="579.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="898" y="583.0151">beforeCompletion(): void</text><ellipse cx="889" cy="592.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="898" y="595.8198">afterCompletion(int): void</text></a><!--MD5=[83be7f25e479c99eaeb0532c5b7b2cf7]
class com.ibm.fhir.persistence.FHIRPersistence--><a href="../../FHIRPersistence.html" target="_top" title="../../FHIRPersistence.html" xlink:actuate="onRequest" xlink:href="../../FHIRPersistence.html" xlink:show="new" xlink:title="../../FHIRPersistence.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#flbpoqgiufeck)" height="227.2656" id="com.ibm.fhir.persistence.FHIRPersistence" style="stroke: #A80036; stroke-width: 1.5;" width="717" x="73.5" y="43"/><ellipse cx="377.25" cy="59" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M373.1719,54.7656 L373.1719,52.6094 L380.5625,52.6094 L380.5625,54.7656 L378.0938,54.7656 L378.0938,62.8438 L380.5625,62.8438 L380.5625,65 L373.1719,65 L373.1719,62.8438 L375.6406,62.8438 L375.6406,54.7656 L373.1719,54.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="397.75" y="63.1543">FHIRPersistence</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="74.5" x2="789.5" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="74.5" x2="789.5" y1="83" y2="83"/><ellipse cx="84.5" cy="94" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="561" x="93.5" y="97.2104">create(FHIRPersistenceContext, T extends Resource): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="84.5" cy="106.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="643" x="93.5" y="110.0151">read(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="84.5" cy="119.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="691" x="93.5" y="122.8198">vread(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String, String): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="84.5" cy="132.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="606" x="93.5" y="135.6245">update(FHIRPersistenceContext, String, T extends Resource): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="84.5" cy="145.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="652" x="93.5" y="148.4292">delete(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String): SingleResourceResult&lt;T extends Resource&gt;</text><ellipse cx="84.5" cy="158.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="647" x="93.5" y="161.2339">history(FHIRPersistenceContext, Class&lt;T extends Resource&gt;, String): MultiResourceResult&lt;T extends Resource&gt;</text><ellipse cx="84.5" cy="170.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="544" x="93.5" y="174.0386">search(FHIRPersistenceContext, Class&lt;? extends Resource&gt;): MultiResourceResult&lt;Resource&gt;</text><ellipse cx="84.5" cy="183.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="148" x="93.5" y="186.8433">isTransactional(): boolean</text><ellipse cx="84.5" cy="196.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="177" x="93.5" y="199.6479">getHealth(): OperationOutcome</text><ellipse cx="84.5" cy="209.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="259" x="93.5" y="212.4526">getTransaction(): FHIRPersistenceTransaction</text><ellipse cx="84.5" cy="222.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="93.5" y="225.2573">isDeleteSupported(): boolean</text><ellipse cx="84.5" cy="234.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="164" x="93.5" y="238.062">generateResourceId(): String</text><ellipse cx="84.5" cy="247.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="93.5" y="250.8667">isReindexSupported(): boolean</text><ellipse cx="84.5" cy="260.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="343" x="93.5" y="263.6714">reindex(FHIRPersistenceContext, Builder, Instant, String): int</text></a><polygon fill="#FFFFFF" filter="url(#flbpoqgiufeck)" points="825,130,919,130,926,152.2969,933,152.2969,933,182.5938,825,182.5938,825,130" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="825" x2="926" y1="152.2969" y2="152.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="829" y="144.9951">connection</text><!--MD5=[4c68b76493fa8509ab9bd1491ae9f690]
class javax.transaction.Synchronization--><a href="https://docs.oracle.com/javase/8/docs/api/javax/transaction/Synchronization.html?is-external=true" target="_top" title="https://docs.oracle.com/javase/8/docs/api/javax/transaction/Synchronization.html?is-external=true" xlink:actuate="onRequest" xlink:href="https://docs.oracle.com/javase/8/docs/api/javax/transaction/Synchronization.html?is-external=true" xlink:show="new" xlink:title="https://docs.oracle.com/javase/8/docs/api/javax/transaction/Synchronization.html?is-external=true" xlink:type="simple"><rect fill="#FEFECE" filter="url(#flbpoqgiufeck)" height="73.6094" id="javax.transaction.Synchronization" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="1077" y="119.5"/><ellipse cx="1110" cy="135.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1105.9219,131.2656 L1105.9219,129.1094 L1113.3125,129.1094 L1113.3125,131.2656 L1110.8438,131.2656 L1110.8438,139.3438 L1113.3125,139.3438 L1113.3125,141.5 L1105.9219,141.5 L1105.9219,139.3438 L1108.3906,139.3438 L1108.3906,131.2656 L1105.9219,131.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="1128" y="139.6543">Synchronization</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1078" x2="1246" y1="151.5" y2="151.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1078" x2="1246" y1="159.5" y2="159.5"/><ellipse cx="1088" cy="170.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="140" x="1097" y="173.7104">beforeCompletion(): void</text><ellipse cx="1088" cy="183.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="144" x="1097" y="186.5151">afterCompletion(int): void</text></a><!--MD5=[87ec4aaf92cfc720f7072dbad9c9e6bc]
reverse link com.ibm.fhir.persistence.FHIRPersistence to com.ibm.fhir.persistence.jdbc.impl.FHIRPersistenceJDBCImpl--><path d="M432,290.5189 C432,303.2378 432,316.3615 432,329.652 " fill="none" id="com.ibm.fhir.persistence.FHIRPersistence&lt;-com.ibm.fhir.persistence.jdbc.impl.FHIRPersistenceJDBCImpl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="425.0001,290.2265,432,270.2264,439.0001,290.2264,425.0001,290.2265" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[518d5a6c6af05579fde2ea93404b91dc]
reverse link javax.transaction.Synchronization to com.ibm.fhir.persistence.jdbc.impl.CacheTransactionSync--><path d="M1162,213.821 C1162,295.3659 1162,443.0364 1162,515.9254 " fill="none" id="javax.transaction.Synchronization&lt;-com.ibm.fhir.persistence.jdbc.impl.CacheTransactionSync" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1155.0001,213.6448,1162,193.6448,1169.0001,213.6447,1155.0001,213.6448" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="913.5" y="823.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[cb561c8460c4e71f11a2eb89cd0b32be]
@startuml
    namespace com.ibm.fhir.persistence.jdbc.impl {

        class ParameterTransactionDataImpl [[ParameterTransactionDataImpl.html]] {
            +ParameterTransactionDataImpl(String, FHIRPersistenceJDBCImpl, UserTransaction)
            +persist(): void
            +addValue(ResourceTokenValueRec): void
        }

        class FHIRPersistenceJDBCImpl [[FHIRPersistenceJDBCImpl.html]] {
            {static} #TXN_JNDI_NAME: String
            {static} +TRX_SYNCH_REG_JNDI_NAME: String
            #userTransaction: UserTransaction
            #updateCreateEnabled: Boolean
            +FHIRPersistenceJDBCImpl(FHIRPersistenceJDBCCache)
            +FHIRPersistenceJDBCImpl(Properties, IConnectionProvider, FHIRPersistenceJDBCCache)
            +FHIRPersistenceJDBCImpl(Properties, IConnectionProvider, FHIRConfigProvider, FHIRPersistenceJDBCCache)
            #buildActionChain(): Action
            +create(FHIRPersistenceContext, T extends Resource): SingleResourceResult<T extends Resource>
            +update(FHIRPersistenceContext, String, T extends Resource): SingleResourceResult<T extends Resource>
            +search(FHIRPersistenceContext, Class<? extends Resource>): MultiResourceResult<Resource>
            +delete(FHIRPersistenceContext, Class<T extends Resource>, String): SingleResourceResult<T extends Resource>
            +read(FHIRPersistenceContext, Class<T extends Resource>, String): SingleResourceResult<T extends Resource>
            +history(FHIRPersistenceContext, Class<T extends Resource>, String): MultiResourceResult<T extends Resource>
            +vread(FHIRPersistenceContext, Class<T extends Resource>, String, String): SingleResourceResult<T extends Resource>
            #buildSortedFhirResources(ResourceDAO, FHIRPersistenceContext, Class<? extends Resource>, List<Long>, List<String>): List<Resource>
            #convertResourceDTOList(List<Resource>, Class<? extends Resource>, List<String>): List<Resource>
            #addCompartmentParams(List<ExtractedParameterValue>, Resource): void
            +getHealth(): OperationOutcome
            #retrieveUserTransaction(String): UserTransaction
            #convertResourceDTOList(List<Resource>, Class<T extends Resource>): List<T extends Resource>
            #convertResourceDTOListOld(List<Resource>, Class<? extends Resource>): List<Resource>
            +isTransactional(): boolean
            +getTransaction(): FHIRPersistenceTransaction
            +isDeleteSupported(): boolean
            +getSchemaForRequestContext(Connection): String
            +doCachePrefill(Connection): void
            +isReindexSupported(): boolean
            +reindex(FHIRPersistenceContext, Builder, Instant, String): int
            +updateParameters(ResourceIndexRecord, Class<T extends Resource>, Resource, ReindexResourceDAO, Builder): void
            +generateResourceId(): String
            +persistResourceTokenValueRecords(Collection<ResourceTokenValueRec>): void
        }

        class CacheTransactionSync [[CacheTransactionSync.html]] {
            +CacheTransactionSync(TransactionSynchronizationRegistry, FHIRPersistenceJDBCCache, String)
            +beforeCompletion(): void
            +afterCompletion(int): void
        }

        com.ibm.fhir.persistence.jdbc.TransactionData <|.. ParameterTransactionDataImpl
        com.ibm.fhir.persistence.FHIRPersistence <|.. FHIRPersistenceJDBCImpl
        com.ibm.fhir.persistence.jdbc.connection.SchemaNameSupplier <|.. FHIRPersistenceJDBCImpl
        javax.transaction.Synchronization <|.. CacheTransactionSync
    }

    namespace com.ibm.fhir.persistence.jdbc {
        interface TransactionData [[../TransactionData.html]] {
            {abstract} +persist(): void
        }
    }

    namespace com.ibm.fhir.persistence {
        interface FHIRPersistence [[../../FHIRPersistence.html]] {
            {abstract} +create(FHIRPersistenceContext, T extends Resource): SingleResourceResult<T extends Resource>
            {abstract} +read(FHIRPersistenceContext, Class<T extends Resource>, String): SingleResourceResult<T extends Resource>
            {abstract} +vread(FHIRPersistenceContext, Class<T extends Resource>, String, String): SingleResourceResult<T extends Resource>
            {abstract} +update(FHIRPersistenceContext, String, T extends Resource): SingleResourceResult<T extends Resource>
            +delete(FHIRPersistenceContext, Class<T extends Resource>, String): SingleResourceResult<T extends Resource>
            {abstract} +history(FHIRPersistenceContext, Class<T extends Resource>, String): MultiResourceResult<T extends Resource>
            {abstract} +search(FHIRPersistenceContext, Class<? extends Resource>): MultiResourceResult<Resource>
            {abstract} +isTransactional(): boolean
            {abstract} +getHealth(): OperationOutcome
            {abstract} +getTransaction(): FHIRPersistenceTransaction
            +isDeleteSupported(): boolean
            {abstract} +generateResourceId(): String
            +isReindexSupported(): boolean
            {abstract} +reindex(FHIRPersistenceContext, Builder, Instant, String): int
        }
    }

    namespace com.ibm.fhir.persistence.jdbc.connection {
        interface SchemaNameSupplier [[../connection/SchemaNameSupplier.html]] {
            {abstract} +getSchemaForRequestContext(Connection): String
        }
    }

    namespace javax.transaction {
        interface Synchronization [[https://docs.oracle.com/javase/8/docs/api/javax/transaction/Synchronization.html?is-external=true]] {
            {abstract} +beforeCompletion(): void
            {abstract} +afterCompletion(int): void
        }
    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>