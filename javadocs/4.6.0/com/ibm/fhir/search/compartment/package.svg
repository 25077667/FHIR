<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="503px" preserveAspectRatio="none" style="width:1098px;height:503px;" version="1.1" viewBox="0 0 1098 503" width="1098px" zoomAndPan="magnify"><defs><filter height="300%" id="f11wymhjs5xx0j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[631c9c7ca6f162e152c25a275d86ba7e]
cluster com.ibm.fhir.search.compartment--><polygon fill="#FFFFFF" filter="url(#f11wymhjs5xx0j)" points="14,16,287,16,294,38.2969,1076,38.2969,1076,463,14,463,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="294" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="18" y="30.9951">com.ibm.fhir.search.compartment</text><!--MD5=[97d8f2677e8f65af45fa0528b4570f60]
class com.ibm.fhir.search.compartment.CompartmentUtil--><a href="CompartmentUtil.html" target="_top" title="CompartmentUtil.html" xlink:actuate="onRequest" xlink:href="CompartmentUtil.html" xlink:show="new" xlink:title="CompartmentUtil.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f11wymhjs5xx0j)" height="265.6797" id="com.ibm.fhir.search.compartment.CompartmentUtil" style="stroke: #A80036; stroke-width: 1.5;" width="617" x="22.5" y="43"/><ellipse cx="274.25" cy="59" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M277.2188,64.6406 Q276.6406,64.9375 276,65.0781 Q275.3594,65.2344 274.6563,65.2344 Q272.1563,65.2344 270.8281,63.5938 Q269.5156,61.9375 269.5156,58.8125 Q269.5156,55.6875 270.8281,54.0313 Q272.1563,52.375 274.6563,52.375 Q275.3594,52.375 276,52.5313 Q276.6563,52.6875 277.2188,52.9844 L277.2188,55.7031 Q276.5938,55.125 276,54.8594 Q275.4063,54.5781 274.7813,54.5781 Q273.4375,54.5781 272.75,55.6563 Q272.0625,56.7188 272.0625,58.8125 Q272.0625,60.9063 272.75,61.9844 Q273.4375,63.0469 274.7813,63.0469 Q275.4063,63.0469 276,62.7813 Q276.5938,62.5 277.2188,61.9219 L277.2188,64.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="294.75" y="63.1543">CompartmentUtil</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="638.5" y1="75" y2="75"/><ellipse cx="33.5" cy="86" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="194" x="42.5" y="89.2104">FHIR_PATH_BUNDLE_ENTRY: String</text><ellipse cx="33.5" cy="98.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="103" x="42.5" y="102.0151">RESOURCE: String</text><ellipse cx="33.5" cy="111.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="147" x="42.5" y="114.8198">PARSE_EXCEPTION: String</text><ellipse cx="33.5" cy="124.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="123" x="42.5" y="127.6245">IO_EXCEPTION: String</text><ellipse cx="33.5" cy="137.2188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="175" x="42.5" y="140.4292">INVALID_COMPARTMENT: String</text><ellipse cx="33.5" cy="150.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="271" x="42.5" y="153.2339">INVALID_COMPARTMENT_AND_RESOURCE: String</text><ellipse cx="33.5" cy="162.8281" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="124" x="42.5" y="166.0386">FROM_STREAM: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="638.5" y1="172.6328" y2="172.6328"/><ellipse cx="33.5" cy="183.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="56" x="42.5" y="186.8433">init(): void</text><ellipse cx="33.5" cy="196.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="549" x="42.5" y="199.6479">buildMaps(Map&lt;String, CompartmentCache&gt;, Map&lt;String, ResourceCompartmentCache&gt;): void</text><ellipse cx="33.5" cy="209.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="591" x="42.5" y="212.4526">buildMaps(String, Map&lt;String, CompartmentCache&gt;, Map&lt;String, ResourceCompartmentCache&gt;): void</text><ellipse cx="33.5" cy="222.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="305" x="42.5" y="225.2573">getCompartmentResourceTypes(String): List&lt;String&gt;</text><ellipse cx="33.5" cy="234.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="432" x="42.5" y="238.062">getCompartmentResourceTypeInclusionCriteria(String, String): List&lt;String&gt;</text><ellipse cx="33.5" cy="247.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="210" x="42.5" y="250.8667">checkValidCompartment(String): void</text><ellipse cx="33.5" cy="260.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="326" x="42.5" y="263.6714">checkValidCompartmentAndResource(String, String): void</text><ellipse cx="33.5" cy="273.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="234" x="42.5" y="276.4761">buildCompositeBundle(PrintStream): void</text><ellipse cx="33.5" cy="286.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="442" x="42.5" y="289.2808">getCompartmentParamsForResourceType(String): Map&lt;String, Set&lt;String&gt;&gt;</text><ellipse cx="33.5" cy="298.875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="263" x="42.5" y="302.0854">makeCompartmentParamName(String): String</text></a><!--MD5=[1825c0adf0e65267e103ac7d9edf547c]
class com.ibm.fhir.search.compartment.ResourceCompartmentCache--><a href="ResourceCompartmentCache.html" target="_top" title="ResourceCompartmentCache.html" xlink:actuate="onRequest" xlink:href="ResourceCompartmentCache.html" xlink:show="new" xlink:title="ResourceCompartmentCache.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f11wymhjs5xx0j)" height="73.6094" id="com.ibm.fhir.search.compartment.ResourceCompartmentCache" style="stroke: #A80036; stroke-width: 1.5;" width="393" x="674.5" y="139"/><ellipse cx="775.25" cy="155" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M778.2188,160.6406 Q777.6406,160.9375 777,161.0781 Q776.3594,161.2344 775.6563,161.2344 Q773.1563,161.2344 771.8281,159.5938 Q770.5156,157.9375 770.5156,154.8125 Q770.5156,151.6875 771.8281,150.0313 Q773.1563,148.375 775.6563,148.375 Q776.3594,148.375 777,148.5313 Q777.6563,148.6875 778.2188,148.9844 L778.2188,151.7031 Q777.5938,151.125 777,150.8594 Q776.4063,150.5781 775.7813,150.5781 Q774.4375,150.5781 773.75,151.6563 Q773.0625,152.7188 773.0625,154.8125 Q773.0625,156.9063 773.75,157.9844 Q774.4375,159.0469 775.7813,159.0469 Q776.4063,159.0469 777,158.7813 Q777.5938,158.5 778.2188,157.9219 L778.2188,160.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="795.75" y="159.1543">ResourceCompartmentCache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="675.5" x2="1066.5" y1="171" y2="171"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="675.5" x2="1066.5" y1="179" y2="179"/><ellipse cx="685.5" cy="190" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="694.5" y="193.2104">add(List&lt;String&gt;, String): void</text><ellipse cx="685.5" cy="202.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="367" x="694.5" y="206.0151">getCompartmentReferenceParams(): Map&lt;String, Set&lt;String&gt;&gt;</text></a><!--MD5=[8a50672172d4659d4f4f5acbf6ca99eb]
class com.ibm.fhir.search.compartment.CompartmentCache--><a href="CompartmentCache.html" target="_top" title="CompartmentCache.html" xlink:actuate="onRequest" xlink:href="CompartmentCache.html" xlink:show="new" xlink:title="CompartmentCache.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f11wymhjs5xx0j)" height="86.4141" id="com.ibm.fhir.search.compartment.CompartmentCache" style="stroke: #A80036; stroke-width: 1.5;" width="415" x="123.5" y="369"/><ellipse cx="264.75" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M267.7188,390.6406 Q267.1406,390.9375 266.5,391.0781 Q265.8594,391.2344 265.1563,391.2344 Q262.6563,391.2344 261.3281,389.5938 Q260.0156,387.9375 260.0156,384.8125 Q260.0156,381.6875 261.3281,380.0313 Q262.6563,378.375 265.1563,378.375 Q265.8594,378.375 266.5,378.5313 Q267.1563,378.6875 267.7188,378.9844 L267.7188,381.7031 Q267.0938,381.125 266.5,380.8594 Q265.9063,380.5781 265.2813,380.5781 Q263.9375,380.5781 263.25,381.6563 Q262.5625,382.7188 262.5625,384.8125 Q262.5625,386.9063 263.25,387.9844 Q263.9375,389.0469 265.2813,389.0469 Q265.9063,389.0469 266.5,388.7813 Q267.0938,388.5 267.7188,387.9219 L267.7188,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="285.25" y="389.1543">CompartmentCache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="124.5" x2="537.5" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="124.5" x2="537.5" y1="409" y2="409"/><ellipse cx="134.5" cy="420" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="143.5" y="423.2104">add(String, List&lt;String&gt;): void</text><ellipse cx="134.5" cy="432.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="281" x="143.5" y="436.0151">getResourceTypesInCompartment(): List&lt;String&gt;</text><ellipse cx="134.5" cy="445.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="389" x="143.5" y="448.8198">getParametersByResourceTypeInCompartment(String): List&lt;String&gt;</text></a><!--MD5=[9dd8ff162f70b366e3fcfe9ca485a093]
link com.ibm.fhir.search.compartment.CompartmentUtil to com.ibm.fhir.search.compartment.ResourceCompartmentCache--><!--MD5=[d740fb221e8cb079bb7776df6e64606e]
link com.ibm.fhir.search.compartment.CompartmentUtil to com.ibm.fhir.search.compartment.CompartmentCache--><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="458" y="490.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[dd7bf108dbc2ded4d42a98e89f973fe3]
@startuml
    namespace com.ibm.fhir.search.compartment {

        class CompartmentUtil [[CompartmentUtil.html]] {
            {static} +FHIR_PATH_BUNDLE_ENTRY: String
            {static} +RESOURCE: String
            {static} +PARSE_EXCEPTION: String
            {static} +IO_EXCEPTION: String
            {static} +INVALID_COMPARTMENT: String
            {static} +INVALID_COMPARTMENT_AND_RESOURCE: String
            {static} +FROM_STREAM: String
            {static} +init(): void
            {static} +buildMaps(Map<String, CompartmentCache>, Map<String, ResourceCompartmentCache>): void
            {static} +buildMaps(String, Map<String, CompartmentCache>, Map<String, ResourceCompartmentCache>): void
            {static} +getCompartmentResourceTypes(String): List<String>
            {static} +getCompartmentResourceTypeInclusionCriteria(String, String): List<String>
            {static} +checkValidCompartment(String): void
            {static} +checkValidCompartmentAndResource(String, String): void
            {static} +buildCompositeBundle(PrintStream): void
            {static} +getCompartmentParamsForResourceType(String): Map<String, Set<String>>
            {static} +makeCompartmentParamName(String): String
        }

        class ResourceCompartmentCache [[ResourceCompartmentCache.html]] {
            +add(List<String>, String): void
            +getCompartmentReferenceParams(): Map<String, Set<String>>
        }

        class CompartmentCache [[CompartmentCache.html]] {
            +add(String, List<String>): void
            +getResourceTypesInCompartment(): List<String>
            +getParametersByResourceTypeInCompartment(String): List<String>
        }

    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>