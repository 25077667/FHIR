<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="850px" preserveAspectRatio="none" style="width:681px;height:850px;" version="1.1" viewBox="0 0 681 850" width="681px" zoomAndPan="magnify"><defs><filter height="300%" id="f128rcq2x5sgi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4167b37e00f667afd305bc0fd4e9189b]
cluster com.ibm.fhir.smart--><polygon fill="#FFFFFF" filter="url(#f128rcq2x5sgi)" points="14,335,168,335,175,357.2969,659,357.2969,659,810,14,810,14,335" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="175" y1="357.2969" y2="357.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="18" y="349.9951">com.ibm.fhir.smart</text><!--MD5=[4d1582405582576450a585ca3a77c3a1]
cluster com.ibm.fhir.persistence.interceptor--><polygon fill="#FFFFFF" filter="url(#f128rcq2x5sgi)" points="336,16,633,16,640,38.2969,643,38.2969,643,304,336,304,336,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="336" x2="640" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="340" y="30.9951">com.ibm.fhir.persistence.interceptor</text><!--MD5=[c0338eaa55ebc8af3e3dd4004fae3232]
class com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor--><a href="AuthzPolicyEnforcementPersistenceInterceptor.html" target="_top" title="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:actuate="onRequest" xlink:href="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:show="new" xlink:title="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f128rcq2x5sgi)" height="188.8516" id="com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.5;" width="325" x="326.5" y="362"/><ellipse cx="341.5" cy="378" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M344.4688,383.6406 Q343.8906,383.9375 343.25,384.0781 Q342.6094,384.2344 341.9063,384.2344 Q339.4063,384.2344 338.0781,382.5938 Q336.7656,380.9375 336.7656,377.8125 Q336.7656,374.6875 338.0781,373.0313 Q339.4063,371.375 341.9063,371.375 Q342.6094,371.375 343.25,371.5313 Q343.9063,371.6875 344.4688,371.9844 L344.4688,374.7031 Q343.8438,374.125 343.25,373.8594 Q342.6563,373.5781 342.0313,373.5781 Q340.6875,373.5781 340,374.6563 Q339.3125,375.7188 339.3125,377.8125 Q339.3125,379.9063 340,380.9844 Q340.6875,382.0469 342.0313,382.0469 Q342.6563,382.0469 343.25,381.7813 Q343.8438,381.5 344.4688,380.9219 L344.4688,383.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="293" x="355.5" y="382.1543">AuthzPolicyEnforcementPersistenceInterceptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="327.5" x2="650.5" y1="394" y2="394"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="327.5" x2="650.5" y1="402" y2="402"/><ellipse cx="337.5" cy="413" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="346.5" y="416.2104">beforeRead(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="425.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="346.5" y="429.0151">beforeVread(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="438.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="346.5" y="441.8198">beforeHistory(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="451.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="346.5" y="454.6245">beforeSearch(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="464.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="346.5" y="467.4292">beforeCreate(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="477.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="346.5" y="480.2339">beforeDelete(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="489.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="346.5" y="493.0386">beforeUpdate(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="502.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="346.5" y="505.8433">afterRead(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="515.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="346.5" y="518.6479">afterVread(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="528.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="346.5" y="531.4526">afterHistory(FHIRPersistenceEvent): void</text><ellipse cx="337.5" cy="541.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="346.5" y="544.2573">afterSearch(FHIRPersistenceEvent): void</text></a><!--MD5=[44238d50007ec0df46574e64d712a6bb]
class com.ibm.fhir.smart.Scope--><a href="Scope.html" target="_top" title="Scope.html" xlink:actuate="onRequest" xlink:href="Scope.html" xlink:show="new" xlink:title="Scope.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f128rcq2x5sgi)" height="99.2188" id="com.ibm.fhir.smart.Scope" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="22.5" y="407"/><ellipse cx="133.25" cy="423" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M136.2188,428.6406 Q135.6406,428.9375 135,429.0781 Q134.3594,429.2344 133.6563,429.2344 Q131.1563,429.2344 129.8281,427.5938 Q128.5156,425.9375 128.5156,422.8125 Q128.5156,419.6875 129.8281,418.0313 Q131.1563,416.375 133.6563,416.375 Q134.3594,416.375 135,416.5313 Q135.6563,416.6875 136.2188,416.9844 L136.2188,419.7031 Q135.5938,419.125 135,418.8594 Q134.4063,418.5781 133.7813,418.5781 Q132.4375,418.5781 131.75,419.6563 Q131.0625,420.7188 131.0625,422.8125 Q131.0625,424.9063 131.75,425.9844 Q132.4375,427.0469 133.7813,427.0469 Q134.4063,427.0469 135,426.7813 Q135.5938,426.5 136.2188,425.9219 L136.2188,428.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="153.75" y="427.1543">Scope</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="290.5" y1="439" y2="439"/><ellipse cx="33.5" cy="450" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="172" x="42.5" y="453.2104">SCOPE_STRING_REGEX: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="290.5" y1="459.8047" y2="459.8047"/><ellipse cx="33.5" cy="470.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="42.5" y="474.0151">Scope(String)</text><ellipse cx="33.5" cy="483.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="243" x="42.5" y="486.8198">Scope(ContextType, ValueSet, Permission)</text><ellipse cx="33.5" cy="496.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="42.5" y="499.6245">getResourceType(): ValueSet</text></a><!--MD5=[56aa21b8b4fa4b7493dcc5412ccc0978]
class com.ibm.fhir.smart.Scope.ContextType--><a href="Scope.ContextType.html" target="_top" title="Scope.ContextType.html" xlink:actuate="onRequest" xlink:href="Scope.ContextType.html" xlink:show="new" xlink:title="Scope.ContextType.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f128rcq2x5sgi)" height="99.2188" id="com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="32.5" y="696.5"/><ellipse cx="56.95" cy="712.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M61.0594,718.5 L53.3406,718.5 L53.3406,706.1094 L61.0594,706.1094 L61.0594,708.2656 L55.7938,708.2656 L55.7938,710.9375 L60.5594,710.9375 L60.5594,713.0938 L55.7938,713.0938 L55.7938,716.3438 L61.0594,716.3438 L61.0594,718.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="73.05" y="716.6543">Scope.ContextType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="33.5" x2="204.5" y1="728.5" y2="728.5"/><ellipse cx="43.5" cy="739.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="46" x="52.5" y="742.7104">PATIENT</text><ellipse cx="43.5" cy="752.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="30" x="52.5" y="755.5151">USER</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="33.5" x2="204.5" y1="762.1094" y2="762.1094"/><ellipse cx="43.5" cy="773.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="52.5" y="776.3198">value(): String</text><ellipse cx="43.5" cy="785.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="147" x="52.5" y="789.1245">from(String): ContextType</text></a><!--MD5=[6d118bb7832278cd645cbae78a176c98]
class com.ibm.fhir.smart.Scope.Permission--><a href="Scope.Permission.html" target="_top" title="Scope.Permission.html" xlink:actuate="onRequest" xlink:href="Scope.Permission.html" xlink:show="new" xlink:title="Scope.Permission.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f128rcq2x5sgi)" height="112.0234" id="com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="259.5" y="690"/><ellipse cx="285.3" cy="706" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M289.4094,712 L281.6906,712 L281.6906,699.6094 L289.4094,699.6094 L289.4094,701.7656 L284.1438,701.7656 L284.1438,704.4375 L288.9094,704.4375 L288.9094,706.5938 L284.1438,706.5938 L284.1438,709.8438 L289.4094,709.8438 L289.4094,712 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="301.7" y="710.1543">Scope.Permission</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="425.5" y1="722" y2="722"/><ellipse cx="270.5" cy="733" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="29" x="279.5" y="736.2104">READ</text><ellipse cx="270.5" cy="745.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="33" x="279.5" y="749.0151">WRITE</text><ellipse cx="270.5" cy="758.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="19" x="279.5" y="761.8198">ALL</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="425.5" y1="768.4141" y2="768.4141"/><ellipse cx="270.5" cy="779.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="279.5" y="782.6245">value(): String</text><ellipse cx="270.5" cy="792.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141" x="279.5" y="795.4292">from(String): Permission</text></a><!--MD5=[68526322b6371f2a67e45800e6cbc0cb]
class com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor--><a href="../persistence/interceptor/FHIRPersistenceInterceptor.html" target="_top" title="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:actuate="onRequest" xlink:href="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:show="new" xlink:title="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f128rcq2x5sgi)" height="252.875" id="com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="357" y="43"/><ellipse cx="399.9" cy="59" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395.8219,54.7656 L395.8219,52.6094 L403.2125,52.6094 L403.2125,54.7656 L400.7438,54.7656 L400.7438,62.8438 L403.2125,62.8438 L403.2125,65 L395.8219,65 L395.8219,62.8438 L398.2906,62.8438 L398.2906,54.7656 L395.8219,54.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="170" x="420.1" y="63.1543">FHIRPersistenceInterceptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="358" x2="620" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="358" x2="620" y1="83" y2="83"/><ellipse cx="368" cy="94" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="377" y="97.2104">beforeCreate(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="106.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="377" y="110.0151">afterCreate(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="119.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="377" y="122.8198">beforeUpdate(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="132.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="377" y="135.6245">afterUpdate(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="145.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="377" y="148.4292">beforePatch(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="158.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="377" y="161.2339">afterPatch(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="170.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="377" y="174.0386">beforeDelete(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="183.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="377" y="186.8433">afterDelete(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="196.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="377" y="199.6479">beforeRead(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="209.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="377" y="212.4526">afterRead(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="222.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="377" y="225.2573">beforeVread(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="234.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="377" y="238.062">afterVread(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="247.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="377" y="250.8667">beforeHistory(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="260.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="377" y="263.6714">afterHistory(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="273.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="377" y="276.4761">beforeSearch(FHIRPersistenceEvent): void</text><ellipse cx="368" cy="286.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="377" y="289.2808">afterSearch(FHIRPersistenceEvent): void</text></a><!--MD5=[fef3b9ea9f67f7720f5d5c9c92cc8fa1]
reverse link com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor to com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor--><path d="M489,316.2239 C489,331.7497 489,347.2252 489,361.9228 " fill="none" id="com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor&lt;-com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="482.0001,316.2178,489,296.2178,496.0001,316.2178,482.0001,316.2178" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ec7b32564aacc75a429e343a0793854b]
link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.ContextType--><path d="M126.7328,506.3062 C110.5604,535.8667 92.3104,574.7417 84,612 C78.1358,638.2911 84.1072,667.2339 92.6782,691.4723 " fill="none" id="com.ibm.fhir.smart.Scope-&gt;com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="94.4243,696.2551,95.095,686.4291,92.7095,691.5584,87.5802,689.1728,94.4243,696.2551" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="85" y="625.0669">contextType</text><!--MD5=[f861da63962d555854ff1d7de78956e6]
reverse link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.ContextType--><path d="M169.022,520.9368 C173.1209,553.5885 175.0941,593.6964 168,629 C163.3795,651.9937 154.123,676.105 144.8875,696.4245 " fill="none" id="com.ibm.fhir.smart.Scope&lt;-com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="168.0479" cy="513.9565" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="169.1535" x2="166.9422" y1="521.8798" y2="506.0333"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="160.1246" x2="175.9711" y1="515.0622" y2="512.8509"/><!--MD5=[8dff19de309195a577bb3d1931903e50]
link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.Permission--><path d="M188.9745,506.2668 C220.8992,555.956 270.0011,632.3807 304.1521,685.5351 " fill="none" id="com.ibm.fhir.smart.Scope-&gt;com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="306.9961,689.9617,305.4965,680.2277,304.2934,685.7551,298.7659,684.552,306.9961,689.9617" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="268" y="625.0669">permission</text><!--MD5=[da825bdbcb69e771284b8dda994b5025]
reverse link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.Permission--><path d="M260.361,514.9757 C294.4558,540.0574 328.3887,572.7183 347,612 C358.3105,635.8724 358.8055,664.9167 355.8521,689.8544 " fill="none" id="com.ibm.fhir.smart.Scope&lt;-com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="254.3456" cy="510.7085" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260.8706" x2="247.8206" y1="515.3371" y2="506.0798"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="249.7169" x2="258.9743" y1="517.2335" y2="504.1835"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="249.5" y="837.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[f190e9c86ca3bcff37d9eabf24e90c49]
@startuml
    namespace com.ibm.fhir.smart {

        class AuthzPolicyEnforcementPersistenceInterceptor [[AuthzPolicyEnforcementPersistenceInterceptor.html]] {
            +beforeRead(FHIRPersistenceEvent): void
            +beforeVread(FHIRPersistenceEvent): void
            +beforeHistory(FHIRPersistenceEvent): void
            +beforeSearch(FHIRPersistenceEvent): void
            +beforeCreate(FHIRPersistenceEvent): void
            +beforeDelete(FHIRPersistenceEvent): void
            +beforeUpdate(FHIRPersistenceEvent): void
            +afterRead(FHIRPersistenceEvent): void
            +afterVread(FHIRPersistenceEvent): void
            +afterHistory(FHIRPersistenceEvent): void
            +afterSearch(FHIRPersistenceEvent): void
        }

        class Scope [[Scope.html]] {
            {static} +SCOPE_STRING_REGEX: String
            +Scope(String)
            +Scope(ContextType, ValueSet, Permission)
            +getResourceType(): ValueSet
        }

        enum com.ibm.fhir.smart.Scope.ContextType [[Scope.ContextType.html]] {
            {static} +PATIENT
            {static} +USER
            +value(): String
            {static} +from(String): ContextType
        }

        enum com.ibm.fhir.smart.Scope.Permission [[Scope.Permission.html]] {
            {static} +READ
            {static} +WRITE
            {static} +ALL
            +value(): String
            {static} +from(String): Permission
        }

        com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor <|.. AuthzPolicyEnforcementPersistenceInterceptor
        Scope - -> com.ibm.fhir.smart.Scope.ContextType: contextType
        Scope - -> com.ibm.fhir.smart.Scope.Permission: permission
        Scope +- - com.ibm.fhir.smart.Scope.ContextType
        Scope +- - com.ibm.fhir.smart.Scope.Permission
    }

    namespace com.ibm.fhir.persistence.interceptor {
        interface FHIRPersistenceInterceptor [[../persistence/interceptor/FHIRPersistenceInterceptor.html]] {
            +beforeCreate(FHIRPersistenceEvent): void
            +afterCreate(FHIRPersistenceEvent): void
            +beforeUpdate(FHIRPersistenceEvent): void
            +afterUpdate(FHIRPersistenceEvent): void
            +beforePatch(FHIRPersistenceEvent): void
            +afterPatch(FHIRPersistenceEvent): void
            +beforeDelete(FHIRPersistenceEvent): void
            +afterDelete(FHIRPersistenceEvent): void
            +beforeRead(FHIRPersistenceEvent): void
            +afterRead(FHIRPersistenceEvent): void
            +beforeVread(FHIRPersistenceEvent): void
            +afterVread(FHIRPersistenceEvent): void
            +beforeHistory(FHIRPersistenceEvent): void
            +afterHistory(FHIRPersistenceEvent): void
            +beforeSearch(FHIRPersistenceEvent): void
            +afterSearch(FHIRPersistenceEvent): void
        }
    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>