<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="838px" preserveAspectRatio="none" style="width:705px;height:838px;" version="1.1" viewBox="0 0 705 838" width="705px" zoomAndPan="magnify"><defs><filter height="300%" id="ff4v48u0h2uqe" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4167b37e00f667afd305bc0fd4e9189b]
cluster com.ibm.fhir.smart--><polygon fill="#FFFFFF" filter="url(#ff4v48u0h2uqe)" points="22,361,176,361,183,383.2969,683,383.2969,683,790,22,790,22,361" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="183" y1="383.2969" y2="383.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="26" y="375.9951">com.ibm.fhir.smart</text><!--MD5=[4d1582405582576450a585ca3a77c3a1]
cluster com.ibm.fhir.persistence.interceptor--><polygon fill="#FFFFFF" filter="url(#ff4v48u0h2uqe)" points="47,24,344,24,351,46.2969,354,46.2969,354,328,47,328,47,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="47" x2="351" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="51" y="38.9951">com.ibm.fhir.persistence.interceptor</text><!--MD5=[44238d50007ec0df46574e64d712a6bb]
class com.ibm.fhir.smart.Scope--><a href="Scope.html" target="_top" title="Scope.html" xlink:actuate="onRequest" xlink:href="Scope.html" xlink:show="new" xlink:title="Scope.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="99.2188" id="com.ibm.fhir.smart.Scope" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="397.5" y="441"/><ellipse cx="508.25" cy="457" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M511.2188,462.6406 Q510.6406,462.9375 510,463.0781 Q509.3594,463.2344 508.6563,463.2344 Q506.1563,463.2344 504.8281,461.5938 Q503.5156,459.9375 503.5156,456.8125 Q503.5156,453.6875 504.8281,452.0313 Q506.1563,450.375 508.6563,450.375 Q509.3594,450.375 510,450.5313 Q510.6563,450.6875 511.2188,450.9844 L511.2188,453.7031 Q510.5938,453.125 510,452.8594 Q509.4063,452.5781 508.7813,452.5781 Q507.4375,452.5781 506.75,453.6563 Q506.0625,454.7188 506.0625,456.8125 Q506.0625,458.9063 506.75,459.9844 Q507.4375,461.0469 508.7813,461.0469 Q509.4063,461.0469 510,460.7813 Q510.5938,460.5 511.2188,459.9219 L511.2188,462.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="528.75" y="461.1543">Scope</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="398.5" x2="665.5" y1="473" y2="473"/><ellipse cx="408.5" cy="484" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="172" x="417.5" y="487.2104">SCOPE_STRING_REGEX: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="398.5" x2="665.5" y1="493.8047" y2="493.8047"/><ellipse cx="408.5" cy="504.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="417.5" y="508.0151">Scope(String)</text><ellipse cx="408.5" cy="517.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="243" x="417.5" y="520.8198">Scope(ContextType, ValueSet, Permission)</text><ellipse cx="408.5" cy="530.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="417.5" y="533.6245">getResourceType(): ValueSet</text></a><!--MD5=[56aa21b8b4fa4b7493dcc5412ccc0978]
class com.ibm.fhir.smart.Scope.ContextType--><a href="Scope.ContextType.html" target="_top" title="Scope.ContextType.html" xlink:actuate="onRequest" xlink:href="Scope.ContextType.html" xlink:show="new" xlink:title="Scope.ContextType.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="99.2188" id="com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="292.5" y="668.5"/><ellipse cx="316.95" cy="684.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M321.0594,690.5 L313.3406,690.5 L313.3406,678.1094 L321.0594,678.1094 L321.0594,680.2656 L315.7938,680.2656 L315.7938,682.9375 L320.5594,682.9375 L320.5594,685.0938 L315.7938,685.0938 L315.7938,688.3438 L321.0594,688.3438 L321.0594,690.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="333.05" y="688.6543">Scope.ContextType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="293.5" x2="464.5" y1="700.5" y2="700.5"/><ellipse cx="303.5" cy="711.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="46" x="312.5" y="714.7104">PATIENT</text><ellipse cx="303.5" cy="724.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="30" x="312.5" y="727.5151">USER</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="293.5" x2="464.5" y1="734.1094" y2="734.1094"/><ellipse cx="303.5" cy="745.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="312.5" y="748.3198">value(): String</text><ellipse cx="303.5" cy="757.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="147" x="312.5" y="761.1245">from(String): ContextType</text></a><!--MD5=[6d118bb7832278cd645cbae78a176c98]
class com.ibm.fhir.smart.Scope.Permission--><a href="Scope.Permission.html" target="_top" title="Scope.Permission.html" xlink:actuate="onRequest" xlink:href="Scope.Permission.html" xlink:show="new" xlink:title="Scope.Permission.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="112.0234" id="com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="500.5" y="662"/><ellipse cx="526.3" cy="678" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M530.4094,684 L522.6906,684 L522.6906,671.6094 L530.4094,671.6094 L530.4094,673.7656 L525.1438,673.7656 L525.1438,676.4375 L529.9094,676.4375 L529.9094,678.5938 L525.1438,678.5938 L525.1438,681.8438 L530.4094,681.8438 L530.4094,684 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="542.7" y="682.1543">Scope.Permission</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="501.5" x2="666.5" y1="694" y2="694"/><ellipse cx="511.5" cy="705" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="29" x="520.5" y="708.2104">READ</text><ellipse cx="511.5" cy="717.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="33" x="520.5" y="721.0151">WRITE</text><ellipse cx="511.5" cy="730.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="19" x="520.5" y="733.8198">ALL</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="501.5" x2="666.5" y1="740.4141" y2="740.4141"/><ellipse cx="511.5" cy="751.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="520.5" y="754.6245">value(): String</text><ellipse cx="511.5" cy="764.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141" x="520.5" y="767.4292">from(String): Permission</text></a><!--MD5=[c0338eaa55ebc8af3e3dd4004fae3232]
class com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor--><a href="AuthzPolicyEnforcementPersistenceInterceptor.html" target="_top" title="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:actuate="onRequest" xlink:href="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:show="new" xlink:title="AuthzPolicyEnforcementPersistenceInterceptor.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="188.8516" id="com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.5;" width="325" x="37.5" y="396"/><ellipse cx="52.5" cy="412" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M55.4688,417.6406 Q54.8906,417.9375 54.25,418.0781 Q53.6094,418.2344 52.9063,418.2344 Q50.4063,418.2344 49.0781,416.5938 Q47.7656,414.9375 47.7656,411.8125 Q47.7656,408.6875 49.0781,407.0313 Q50.4063,405.375 52.9063,405.375 Q53.6094,405.375 54.25,405.5313 Q54.9063,405.6875 55.4688,405.9844 L55.4688,408.7031 Q54.8438,408.125 54.25,407.8594 Q53.6563,407.5781 53.0313,407.5781 Q51.6875,407.5781 51,408.6563 Q50.3125,409.7188 50.3125,411.8125 Q50.3125,413.9063 51,414.9844 Q51.6875,416.0469 53.0313,416.0469 Q53.6563,416.0469 54.25,415.7813 Q54.8438,415.5 55.4688,414.9219 L55.4688,417.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="293" x="66.5" y="416.1543">AuthzPolicyEnforcementPersistenceInterceptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="361.5" y1="428" y2="428"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="361.5" y1="436" y2="436"/><ellipse cx="48.5" cy="447" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="57.5" y="450.2104">beforeRead(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="459.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="57.5" y="463.0151">beforeVread(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="472.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="57.5" y="475.8198">beforeHistory(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="485.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="57.5" y="488.6245">beforeSearch(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="498.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="57.5" y="501.4292">beforeCreate(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="511.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="57.5" y="514.2339">beforeDelete(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="523.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="57.5" y="527.0386">beforeUpdate(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="536.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="57.5" y="539.8433">afterRead(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="549.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="57.5" y="552.6479">afterVread(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="562.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="57.5" y="565.4526">afterHistory(FHIRPersistenceEvent): void</text><ellipse cx="48.5" cy="575.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="57.5" y="578.2573">afterSearch(FHIRPersistenceEvent): void</text></a><!--MD5=[68526322b6371f2a67e45800e6cbc0cb]
class com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor--><a href="../persistence/interceptor/FHIRPersistenceInterceptor.html" target="_top" title="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:actuate="onRequest" xlink:href="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:show="new" xlink:title="../persistence/interceptor/FHIRPersistenceInterceptor.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#ff4v48u0h2uqe)" height="252.875" id="com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="68" y="59"/><ellipse cx="110.9" cy="75" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106.8219,70.7656 L106.8219,68.6094 L114.2125,68.6094 L114.2125,70.7656 L111.7438,70.7656 L111.7438,78.8438 L114.2125,78.8438 L114.2125,81 L106.8219,81 L106.8219,78.8438 L109.2906,78.8438 L109.2906,70.7656 L106.8219,70.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="170" x="131.1" y="79.1543">FHIRPersistenceInterceptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="69" x2="331" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="69" x2="331" y1="99" y2="99"/><ellipse cx="79" cy="110" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="88" y="113.2104">beforeCreate(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="122.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="88" y="126.0151">afterCreate(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="135.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="88" y="138.8198">beforeUpdate(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="148.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="88" y="151.6245">afterUpdate(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="161.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="88" y="164.4292">beforePatch(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="174.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="88" y="177.2339">afterPatch(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="186.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="88" y="190.0386">beforeDelete(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="199.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="88" y="202.8433">afterDelete(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="212.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="88" y="215.6479">beforeRead(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="225.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="88" y="228.4526">afterRead(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="238.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="88" y="241.2573">beforeVread(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="250.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="88" y="254.062">afterVread(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="263.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="88" y="266.8667">beforeHistory(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="276.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="88" y="279.6714">afterHistory(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="289.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="88" y="292.4761">beforeSearch(FHIRPersistenceEvent): void</text><ellipse cx="79" cy="302.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="88" y="305.2808">afterSearch(FHIRPersistenceEvent): void</text></a><!--MD5=[ec7b32564aacc75a429e343a0793854b]
link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.ContextType--><path d="M457.77,540.09 C432.85,560.25 407.48,585.79 392,615 C384.23,629.65 380.39,647.1 378.65,663.39 " fill="none" id="com.ibm.fhir.smart.Scope-&gt;com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="378.17,668.4,382.9995,659.8165,378.6407,663.4222,375.035,659.0634,378.17,668.4" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="393" y="628.0669">contextType</text><!--MD5=[f861da63962d555854ff1d7de78956e6]
reverse link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.ContextType--><path d="M513.97,554.68 C504.95,580.08 492.41,608.79 476,632 C466.82,644.98 455.28,657.3 443.38,668.33 " fill="none" id="com.ibm.fhir.smart.Scope&lt;-com.ibm.fhir.smart.Scope.ContextType" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="516.3105" cy="547.7495" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="513.751" x2="518.87" y1="555.329" y2="540.17"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="508.731" x2="523.89" y1="545.19" y2="550.309"/><!--MD5=[8dff19de309195a577bb3d1931903e50]
link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.Permission--><path d="M521.4,540.02 C517.38,567.59 515.73,602.4 525,632 C527.72,640.68 531.67,649.25 536.26,657.41 " fill="none" id="com.ibm.fhir.smart.Scope-&gt;com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="538.87,661.91,537.8084,652.1185,536.3586,657.5865,530.8907,656.1367,538.87,661.91" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="526" y="628.0669">permission</text><!--MD5=[da825bdbcb69e771284b8dda994b5025]
reverse link com.ibm.fhir.smart.Scope to com.ibm.fhir.smart.Scope.Permission--><path d="M574.47,553.11 C585.3,572.11 595.44,593.67 601,615 C604.91,630.03 604.24,646.55 601.64,661.83 " fill="none" id="com.ibm.fhir.smart.Scope&lt;-com.ibm.fhir.smart.Scope.Permission" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="570.8124" cy="546.964" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.9048" x2="566.72" y1="553.838" y2="540.09"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="563.9384" x2="577.6864" y1="551.0564" y2="542.8716"/><!--MD5=[fef3b9ea9f67f7720f5d5c9c92cc8fa1]
reverse link com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor to com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor--><path d="M200,332.51 C200,354.08 200,375.79 200,395.9 " fill="none" id="com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor&lt;-com.ibm.fhir.smart.AuthzPolicyEnforcementPersistenceInterceptor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="193,332.37,200,312.37,207,332.37,193,332.37" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="265.5" y="825.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[b69cdd28aef527437e5f6cebee0918cd]
@startuml
    namespace com.ibm.fhir.smart {

        class Scope [[Scope.html]] {
            {static} +SCOPE_STRING_REGEX: String
            +Scope(String)
            +Scope(ContextType, ValueSet, Permission)
            +getResourceType(): ValueSet
        }

        enum com.ibm.fhir.smart.Scope.ContextType [[Scope.ContextType.html]] {
            {static} +PATIENT
            {static} +USER
            +value(): String
            {static} +from(String): ContextType
        }

        enum com.ibm.fhir.smart.Scope.Permission [[Scope.Permission.html]] {
            {static} +READ
            {static} +WRITE
            {static} +ALL
            +value(): String
            {static} +from(String): Permission
        }

        class AuthzPolicyEnforcementPersistenceInterceptor [[AuthzPolicyEnforcementPersistenceInterceptor.html]] {
            +beforeRead(FHIRPersistenceEvent): void
            +beforeVread(FHIRPersistenceEvent): void
            +beforeHistory(FHIRPersistenceEvent): void
            +beforeSearch(FHIRPersistenceEvent): void
            +beforeCreate(FHIRPersistenceEvent): void
            +beforeDelete(FHIRPersistenceEvent): void
            +beforeUpdate(FHIRPersistenceEvent): void
            +afterRead(FHIRPersistenceEvent): void
            +afterVread(FHIRPersistenceEvent): void
            +afterHistory(FHIRPersistenceEvent): void
            +afterSearch(FHIRPersistenceEvent): void
        }

        Scope - -> com.ibm.fhir.smart.Scope.ContextType: contextType
        Scope - -> com.ibm.fhir.smart.Scope.Permission: permission
        Scope +- - com.ibm.fhir.smart.Scope.ContextType
        Scope +- - com.ibm.fhir.smart.Scope.Permission
        com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor <|.. AuthzPolicyEnforcementPersistenceInterceptor
    }

    namespace com.ibm.fhir.persistence.interceptor {
        interface FHIRPersistenceInterceptor [[../persistence/interceptor/FHIRPersistenceInterceptor.html]] {
            +beforeCreate(FHIRPersistenceEvent): void
            +afterCreate(FHIRPersistenceEvent): void
            +beforeUpdate(FHIRPersistenceEvent): void
            +afterUpdate(FHIRPersistenceEvent): void
            +beforePatch(FHIRPersistenceEvent): void
            +afterPatch(FHIRPersistenceEvent): void
            +beforeDelete(FHIRPersistenceEvent): void
            +afterDelete(FHIRPersistenceEvent): void
            +beforeRead(FHIRPersistenceEvent): void
            +afterRead(FHIRPersistenceEvent): void
            +beforeVread(FHIRPersistenceEvent): void
            +afterVread(FHIRPersistenceEvent): void
            +beforeHistory(FHIRPersistenceEvent): void
            +afterHistory(FHIRPersistenceEvent): void
            +beforeSearch(FHIRPersistenceEvent): void
            +afterSearch(FHIRPersistenceEvent): void
        }
    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>