<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="535px" preserveAspectRatio="none" style="width:919px;height:535px;" version="1.1" viewBox="0 0 919 535" width="919px" zoomAndPan="magnify"><defs><filter height="300%" id="fat7y917pjwkj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[631c9c7ca6f162e152c25a275d86ba7e]
cluster com.ibm.fhir.search.compartment--><polygon fill="#FFFFFF" filter="url(#fat7y917pjwkj)" points="22,24,295,24,302,46.2969,897,46.2969,897,487,22,487,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="302" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="26" y="38.9951">com.ibm.fhir.search.compartment</text><!--MD5=[8a50672172d4659d4f4f5acbf6ca99eb]
class com.ibm.fhir.search.compartment.CompartmentCache--><a href="CompartmentCache.html" target="_top" title="CompartmentCache.html" xlink:actuate="onRequest" xlink:href="CompartmentCache.html" xlink:show="new" xlink:title="CompartmentCache.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#fat7y917pjwkj)" height="86.4141" id="com.ibm.fhir.search.compartment.CompartmentCache" style="stroke: #A80036; stroke-width: 1.5;" width="415" x="37.5" y="59"/><ellipse cx="178.75" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M181.7188,80.6406 Q181.1406,80.9375 180.5,81.0781 Q179.8594,81.2344 179.1563,81.2344 Q176.6563,81.2344 175.3281,79.5938 Q174.0156,77.9375 174.0156,74.8125 Q174.0156,71.6875 175.3281,70.0313 Q176.6563,68.375 179.1563,68.375 Q179.8594,68.375 180.5,68.5313 Q181.1563,68.6875 181.7188,68.9844 L181.7188,71.7031 Q181.0938,71.125 180.5,70.8594 Q179.9063,70.5781 179.2813,70.5781 Q177.9375,70.5781 177.25,71.6563 Q176.5625,72.7188 176.5625,74.8125 Q176.5625,76.9063 177.25,77.9844 Q177.9375,79.0469 179.2813,79.0469 Q179.9063,79.0469 180.5,78.7813 Q181.0938,78.5 181.7188,77.9219 L181.7188,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="199.25" y="79.1543">CompartmentCache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="451.5" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="451.5" y1="99" y2="99"/><ellipse cx="48.5" cy="110" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="57.5" y="113.2104">add(String, List&lt;String&gt;): void</text><ellipse cx="48.5" cy="122.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="281" x="57.5" y="126.0151">getResourceTypesInCompartment(): List&lt;String&gt;</text><ellipse cx="48.5" cy="135.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="389" x="57.5" y="138.8198">getParametersByResourceTypeInCompartment(String): List&lt;String&gt;</text></a><!--MD5=[1825c0adf0e65267e103ac7d9edf547c]
class com.ibm.fhir.search.compartment.ResourceCompartmentCache--><a href="ResourceCompartmentCache.html" target="_top" title="ResourceCompartmentCache.html" xlink:actuate="onRequest" xlink:href="ResourceCompartmentCache.html" xlink:show="new" xlink:title="ResourceCompartmentCache.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#fat7y917pjwkj)" height="73.6094" id="com.ibm.fhir.search.compartment.ResourceCompartmentCache" style="stroke: #A80036; stroke-width: 1.5;" width="393" x="487.5" y="65"/><ellipse cx="588.25" cy="81" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M591.2188,86.6406 Q590.6406,86.9375 590,87.0781 Q589.3594,87.2344 588.6563,87.2344 Q586.1563,87.2344 584.8281,85.5938 Q583.5156,83.9375 583.5156,80.8125 Q583.5156,77.6875 584.8281,76.0313 Q586.1563,74.375 588.6563,74.375 Q589.3594,74.375 590,74.5313 Q590.6563,74.6875 591.2188,74.9844 L591.2188,77.7031 Q590.5938,77.125 590,76.8594 Q589.4063,76.5781 588.7813,76.5781 Q587.4375,76.5781 586.75,77.6563 Q586.0625,78.7188 586.0625,80.8125 Q586.0625,82.9063 586.75,83.9844 Q587.4375,85.0469 588.7813,85.0469 Q589.4063,85.0469 590,84.7813 Q590.5938,84.5 591.2188,83.9219 L591.2188,86.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="608.75" y="85.1543">ResourceCompartmentCache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="488.5" x2="879.5" y1="97" y2="97"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="488.5" x2="879.5" y1="105" y2="105"/><ellipse cx="498.5" cy="116" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="507.5" y="119.2104">add(List&lt;String&gt;, String): void</text><ellipse cx="498.5" cy="128.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="367" x="507.5" y="132.0151">getCompartmentReferenceParams(): Map&lt;String, Set&lt;String&gt;&gt;</text></a><!--MD5=[97d8f2677e8f65af45fa0528b4570f60]
class com.ibm.fhir.search.compartment.CompartmentUtil--><a href="CompartmentUtil.html" target="_top" title="CompartmentUtil.html" xlink:actuate="onRequest" xlink:href="CompartmentUtil.html" xlink:show="new" xlink:title="CompartmentUtil.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#fat7y917pjwkj)" height="265.6797" id="com.ibm.fhir.search.compartment.CompartmentUtil" style="stroke: #A80036; stroke-width: 1.5;" width="617" x="38.5" y="205"/><ellipse cx="290.25" cy="221" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M293.2188,226.6406 Q292.6406,226.9375 292,227.0781 Q291.3594,227.2344 290.6563,227.2344 Q288.1563,227.2344 286.8281,225.5938 Q285.5156,223.9375 285.5156,220.8125 Q285.5156,217.6875 286.8281,216.0313 Q288.1563,214.375 290.6563,214.375 Q291.3594,214.375 292,214.5313 Q292.6563,214.6875 293.2188,214.9844 L293.2188,217.7031 Q292.5938,217.125 292,216.8594 Q291.4063,216.5781 290.7813,216.5781 Q289.4375,216.5781 288.75,217.6563 Q288.0625,218.7188 288.0625,220.8125 Q288.0625,222.9063 288.75,223.9844 Q289.4375,225.0469 290.7813,225.0469 Q291.4063,225.0469 292,224.7813 Q292.5938,224.5 293.2188,223.9219 L293.2188,226.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="310.75" y="225.1543">CompartmentUtil</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="654.5" y1="237" y2="237"/><ellipse cx="49.5" cy="248" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="194" x="58.5" y="251.2104">FHIR_PATH_BUNDLE_ENTRY: String</text><ellipse cx="49.5" cy="260.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="103" x="58.5" y="264.0151">RESOURCE: String</text><ellipse cx="49.5" cy="273.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="147" x="58.5" y="276.8198">PARSE_EXCEPTION: String</text><ellipse cx="49.5" cy="286.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="123" x="58.5" y="289.6245">IO_EXCEPTION: String</text><ellipse cx="49.5" cy="299.2188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="175" x="58.5" y="302.4292">INVALID_COMPARTMENT: String</text><ellipse cx="49.5" cy="312.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="271" x="58.5" y="315.2339">INVALID_COMPARTMENT_AND_RESOURCE: String</text><ellipse cx="49.5" cy="324.8281" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="124" x="58.5" y="328.0386">FROM_STREAM: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="654.5" y1="334.6328" y2="334.6328"/><ellipse cx="49.5" cy="345.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="56" x="58.5" y="348.8433">init(): void</text><ellipse cx="49.5" cy="358.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="549" x="58.5" y="361.6479">buildMaps(Map&lt;String, CompartmentCache&gt;, Map&lt;String, ResourceCompartmentCache&gt;): void</text><ellipse cx="49.5" cy="371.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="591" x="58.5" y="374.4526">buildMaps(String, Map&lt;String, CompartmentCache&gt;, Map&lt;String, ResourceCompartmentCache&gt;): void</text><ellipse cx="49.5" cy="384.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="305" x="58.5" y="387.2573">getCompartmentResourceTypes(String): List&lt;String&gt;</text><ellipse cx="49.5" cy="396.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="432" x="58.5" y="400.062">getCompartmentResourceTypeInclusionCriteria(String, String): List&lt;String&gt;</text><ellipse cx="49.5" cy="409.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="210" x="58.5" y="412.8667">checkValidCompartment(String): void</text><ellipse cx="49.5" cy="422.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="326" x="58.5" y="425.6714">checkValidCompartmentAndResource(String, String): void</text><ellipse cx="49.5" cy="435.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="234" x="58.5" y="438.4761">buildCompositeBundle(PrintStream): void</text><ellipse cx="49.5" cy="448.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="442" x="58.5" y="451.2808">getCompartmentParamsForResourceType(String): Map&lt;String, Set&lt;String&gt;&gt;</text><ellipse cx="49.5" cy="460.875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="263" x="58.5" y="464.0854">makeCompartmentParamName(String): String</text></a><!--MD5=[01ab92b4751fd698ecd64f58ab449b88]
link com.ibm.fhir.search.compartment.CompartmentCache to com.ibm.fhir.search.compartment.ResourceCompartmentCache--><!--MD5=[08d48f4196e0e7146a8039ce653eee41]
link com.ibm.fhir.search.compartment.CompartmentCache to com.ibm.fhir.search.compartment.CompartmentUtil--><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="372.5" y="522.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[5a4818dac7ed737ecd6f48eb9eb917ab]
@startuml
    namespace com.ibm.fhir.search.compartment {

        class CompartmentCache [[CompartmentCache.html]] {
            +add(String, List<String>): void
            +getResourceTypesInCompartment(): List<String>
            +getParametersByResourceTypeInCompartment(String): List<String>
        }

        class ResourceCompartmentCache [[ResourceCompartmentCache.html]] {
            +add(List<String>, String): void
            +getCompartmentReferenceParams(): Map<String, Set<String>>
        }

        class CompartmentUtil [[CompartmentUtil.html]] {
            {static} +FHIR_PATH_BUNDLE_ENTRY: String
            {static} +RESOURCE: String
            {static} +PARSE_EXCEPTION: String
            {static} +IO_EXCEPTION: String
            {static} +INVALID_COMPARTMENT: String
            {static} +INVALID_COMPARTMENT_AND_RESOURCE: String
            {static} +FROM_STREAM: String
            {static} +init(): void
            {static} +buildMaps(Map<String, CompartmentCache>, Map<String, ResourceCompartmentCache>): void
            {static} +buildMaps(String, Map<String, CompartmentCache>, Map<String, ResourceCompartmentCache>): void
            {static} +getCompartmentResourceTypes(String): List<String>
            {static} +getCompartmentResourceTypeInclusionCriteria(String, String): List<String>
            {static} +checkValidCompartment(String): void
            {static} +checkValidCompartmentAndResource(String, String): void
            {static} +buildCompositeBundle(PrintStream): void
            {static} +getCompartmentParamsForResourceType(String): Map<String, Set<String>>
            {static} +makeCompartmentParamName(String): String
        }

    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>