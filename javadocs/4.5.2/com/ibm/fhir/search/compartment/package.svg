<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="491px" preserveAspectRatio="none" style="width:1119px;height:491px;" version="1.1" viewBox="0 0 1119 491" width="1119px" zoomAndPan="magnify"><defs><filter height="300%" id="f1gj46ex2nqcv7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[631c9c7ca6f162e152c25a275d86ba7e]
cluster com.ibm.fhir.search.compartment--><polygon fill="#FFFFFF" filter="url(#f1gj46ex2nqcv7)" points="14,16,287,16,294,38.2969,1097,38.2969,1097,451,14,451,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="294" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="18" y="30.9951">com.ibm.fhir.search.compartment</text><!--MD5=[8a50672172d4659d4f4f5acbf6ca99eb]
class com.ibm.fhir.search.compartment.CompartmentCache--><a href="CompartmentCache.html" target="_top" title="CompartmentCache.html" xlink:actuate="onRequest" xlink:href="CompartmentCache.html" xlink:show="new" xlink:title="CompartmentCache.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f1gj46ex2nqcv7)" height="86.4141" id="com.ibm.fhir.search.compartment.CompartmentCache" style="stroke: #A80036; stroke-width: 1.5;" width="415" x="21.5" y="133"/><ellipse cx="162.75" cy="149" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M165.7188,154.6406 Q165.1406,154.9375 164.5,155.0781 Q163.8594,155.2344 163.1563,155.2344 Q160.6563,155.2344 159.3281,153.5938 Q158.0156,151.9375 158.0156,148.8125 Q158.0156,145.6875 159.3281,144.0313 Q160.6563,142.375 163.1563,142.375 Q163.8594,142.375 164.5,142.5313 Q165.1563,142.6875 165.7188,142.9844 L165.7188,145.7031 Q165.0938,145.125 164.5,144.8594 Q163.9063,144.5781 163.2813,144.5781 Q161.9375,144.5781 161.25,145.6563 Q160.5625,146.7188 160.5625,148.8125 Q160.5625,150.9063 161.25,151.9844 Q161.9375,153.0469 163.2813,153.0469 Q163.9063,153.0469 164.5,152.7813 Q165.0938,152.5 165.7188,151.9219 L165.7188,154.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="183.25" y="153.1543">CompartmentCache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="435.5" y1="165" y2="165"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="435.5" y1="173" y2="173"/><ellipse cx="32.5" cy="184" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="41.5" y="187.2104">add(String, List&lt;String&gt;): void</text><ellipse cx="32.5" cy="196.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="281" x="41.5" y="200.0151">getResourceTypesInCompartment(): List&lt;String&gt;</text><ellipse cx="32.5" cy="209.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="389" x="41.5" y="212.8198">getParametersByResourceTypeInCompartment(String): List&lt;String&gt;</text></a><!--MD5=[97d8f2677e8f65af45fa0528b4570f60]
class com.ibm.fhir.search.compartment.CompartmentUtil--><a href="CompartmentUtil.html" target="_top" title="CompartmentUtil.html" xlink:actuate="onRequest" xlink:href="CompartmentUtil.html" xlink:show="new" xlink:title="CompartmentUtil.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f1gj46ex2nqcv7)" height="265.6797" id="com.ibm.fhir.search.compartment.CompartmentUtil" style="stroke: #A80036; stroke-width: 1.5;" width="617" x="471.5" y="43"/><ellipse cx="723.25" cy="59" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M726.2188,64.6406 Q725.6406,64.9375 725,65.0781 Q724.3594,65.2344 723.6563,65.2344 Q721.1563,65.2344 719.8281,63.5938 Q718.5156,61.9375 718.5156,58.8125 Q718.5156,55.6875 719.8281,54.0313 Q721.1563,52.375 723.6563,52.375 Q724.3594,52.375 725,52.5313 Q725.6563,52.6875 726.2188,52.9844 L726.2188,55.7031 Q725.5938,55.125 725,54.8594 Q724.4063,54.5781 723.7813,54.5781 Q722.4375,54.5781 721.75,55.6563 Q721.0625,56.7188 721.0625,58.8125 Q721.0625,60.9063 721.75,61.9844 Q722.4375,63.0469 723.7813,63.0469 Q724.4063,63.0469 725,62.7813 Q725.5938,62.5 726.2188,61.9219 L726.2188,64.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="743.75" y="63.1543">CompartmentUtil</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="472.5" x2="1087.5" y1="75" y2="75"/><ellipse cx="482.5" cy="86" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="194" x="491.5" y="89.2104">FHIR_PATH_BUNDLE_ENTRY: String</text><ellipse cx="482.5" cy="98.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="103" x="491.5" y="102.0151">RESOURCE: String</text><ellipse cx="482.5" cy="111.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="147" x="491.5" y="114.8198">PARSE_EXCEPTION: String</text><ellipse cx="482.5" cy="124.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="123" x="491.5" y="127.6245">IO_EXCEPTION: String</text><ellipse cx="482.5" cy="137.2188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="175" x="491.5" y="140.4292">INVALID_COMPARTMENT: String</text><ellipse cx="482.5" cy="150.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="271" x="491.5" y="153.2339">INVALID_COMPARTMENT_AND_RESOURCE: String</text><ellipse cx="482.5" cy="162.8281" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="124" x="491.5" y="166.0386">FROM_STREAM: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="472.5" x2="1087.5" y1="172.6328" y2="172.6328"/><ellipse cx="482.5" cy="183.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="56" x="491.5" y="186.8433">init(): void</text><ellipse cx="482.5" cy="196.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="549" x="491.5" y="199.6479">buildMaps(Map&lt;String, CompartmentCache&gt;, Map&lt;String, ResourceCompartmentCache&gt;): void</text><ellipse cx="482.5" cy="209.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="591" x="491.5" y="212.4526">buildMaps(String, Map&lt;String, CompartmentCache&gt;, Map&lt;String, ResourceCompartmentCache&gt;): void</text><ellipse cx="482.5" cy="222.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="305" x="491.5" y="225.2573">getCompartmentResourceTypes(String): List&lt;String&gt;</text><ellipse cx="482.5" cy="234.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="432" x="491.5" y="238.062">getCompartmentResourceTypeInclusionCriteria(String, String): List&lt;String&gt;</text><ellipse cx="482.5" cy="247.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="210" x="491.5" y="250.8667">checkValidCompartment(String): void</text><ellipse cx="482.5" cy="260.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="326" x="491.5" y="263.6714">checkValidCompartmentAndResource(String, String): void</text><ellipse cx="482.5" cy="273.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="234" x="491.5" y="276.4761">buildCompositeBundle(PrintStream): void</text><ellipse cx="482.5" cy="286.0703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="442" x="491.5" y="289.2808">getCompartmentParamsForResourceType(String): Map&lt;String, Set&lt;String&gt;&gt;</text><ellipse cx="482.5" cy="298.875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="263" x="491.5" y="302.0854">makeCompartmentParamName(String): String</text></a><!--MD5=[1825c0adf0e65267e103ac7d9edf547c]
class com.ibm.fhir.search.compartment.ResourceCompartmentCache--><a href="ResourceCompartmentCache.html" target="_top" title="ResourceCompartmentCache.html" xlink:actuate="onRequest" xlink:href="ResourceCompartmentCache.html" xlink:show="new" xlink:title="ResourceCompartmentCache.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f1gj46ex2nqcv7)" height="73.6094" id="com.ibm.fhir.search.compartment.ResourceCompartmentCache" style="stroke: #A80036; stroke-width: 1.5;" width="393" x="32.5" y="369"/><ellipse cx="133.25" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M136.2188,390.6406 Q135.6406,390.9375 135,391.0781 Q134.3594,391.2344 133.6563,391.2344 Q131.1563,391.2344 129.8281,389.5938 Q128.5156,387.9375 128.5156,384.8125 Q128.5156,381.6875 129.8281,380.0313 Q131.1563,378.375 133.6563,378.375 Q134.3594,378.375 135,378.5313 Q135.6563,378.6875 136.2188,378.9844 L136.2188,381.7031 Q135.5938,381.125 135,380.8594 Q134.4063,380.5781 133.7813,380.5781 Q132.4375,380.5781 131.75,381.6563 Q131.0625,382.7188 131.0625,384.8125 Q131.0625,386.9063 131.75,387.9844 Q132.4375,389.0469 133.7813,389.0469 Q134.4063,389.0469 135,388.7813 Q135.5938,388.5 136.2188,387.9219 L136.2188,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="153.75" y="389.1543">ResourceCompartmentCache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="33.5" x2="424.5" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="33.5" x2="424.5" y1="409" y2="409"/><ellipse cx="43.5" cy="420" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="52.5" y="423.2104">add(List&lt;String&gt;, String): void</text><ellipse cx="43.5" cy="432.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="367" x="52.5" y="436.0151">getCompartmentReferenceParams(): Map&lt;String, Set&lt;String&gt;&gt;</text></a><!--MD5=[08d48f4196e0e7146a8039ce653eee41]
link com.ibm.fhir.search.compartment.CompartmentCache to com.ibm.fhir.search.compartment.CompartmentUtil--><!--MD5=[01ab92b4751fd698ecd64f58ab449b88]
link com.ibm.fhir.search.compartment.CompartmentCache to com.ibm.fhir.search.compartment.ResourceCompartmentCache--><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="468.5" y="478.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[2c43526673cc1775d014610bd9f07bb4]
@startuml
    namespace com.ibm.fhir.search.compartment {

        class CompartmentCache [[CompartmentCache.html]] {
            +add(String, List<String>): void
            +getResourceTypesInCompartment(): List<String>
            +getParametersByResourceTypeInCompartment(String): List<String>
        }

        class CompartmentUtil [[CompartmentUtil.html]] {
            {static} +FHIR_PATH_BUNDLE_ENTRY: String
            {static} +RESOURCE: String
            {static} +PARSE_EXCEPTION: String
            {static} +IO_EXCEPTION: String
            {static} +INVALID_COMPARTMENT: String
            {static} +INVALID_COMPARTMENT_AND_RESOURCE: String
            {static} +FROM_STREAM: String
            {static} +init(): void
            {static} +buildMaps(Map<String, CompartmentCache>, Map<String, ResourceCompartmentCache>): void
            {static} +buildMaps(String, Map<String, CompartmentCache>, Map<String, ResourceCompartmentCache>): void
            {static} +getCompartmentResourceTypes(String): List<String>
            {static} +getCompartmentResourceTypeInclusionCriteria(String, String): List<String>
            {static} +checkValidCompartment(String): void
            {static} +checkValidCompartmentAndResource(String, String): void
            {static} +buildCompositeBundle(PrintStream): void
            {static} +getCompartmentParamsForResourceType(String): Map<String, Set<String>>
            {static} +makeCompartmentParamName(String): String
        }

        class ResourceCompartmentCache [[ResourceCompartmentCache.html]] {
            +add(List<String>, String): void
            +getCompartmentReferenceParams(): Map<String, Set<String>>
        }

    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>