{
    "__comment":"FHIR Server configuration",
    "fhirServer":{
        "core":{
            "truststoreLocation":"resources/security/fhirTruststore.jks",
CODE_REMOVED
            "userDefinedSchematronEnabled":false,
            "tenantIdHeaderName":"X-FHIR-TENANT-ID"
        },
        "oauth":{
        	"regUrl": "https://<host>:9443/oidc/endpoint/oidc-provider/registration",
        	"authUrl": "https://<host>:9443/oauth2/endpoint/oauth2-provider/authorize",
        	"tokenUrl": "https://<host>:9443/oauth2/endpoint/oauth2-provider/token"
        },
        "encryption":{
            "enabled":false,
            "keystoreLocation":"resources/security/fhirkeys.jceks",
CODE_REMOVED
CODE_REMOVED
        },
        "virtualResources":{
            "enabled":false,
            "allowableResourceTypes":[
                "*"
            ]
        },
        "notifications":{
            "common":{
                "__comment_includeResourceTypes":[
                    "QuestionnaireResponse",
                    "CarePlan",
                    "MedicationAdministration",
                    "Device",
                    "DeviceComponent",
                    "DeviceMetric",
                    "MedicationOrder",
                    "Observation"
                ]
            },
            "websocket":{
                "enabled":true
            },
            "kafka":{
                "enabled":false,
                "topicName":"fhirNotifications",
                "connectionProperties":{
                    "group.id":"securing-kafka-group",
                    "bootstrap.servers":"localhost:9093",
                    "security.protocol":"SSL",
                    "ssl.truststore.location":"resources/security/kafka.client.truststore.jks",
CODE_REMOVED
                    "ssl.keystore.location":"resources/security/kafka.client.keystore.jks",
CODE_REMOVED
CODE_REMOVED
                    "ssl.truststore.type":"JKS",
                    "ssl.keystore.type":"JKS",
                    "acks": "all",
                    "retries": "60",
                    "request.timeout.ms": "10000",
                    "max.block.ms": "60000",
                    "max.in.flight.requests.per.connection": "5"
                }
            }
        },
        "audit":{
            "logPath":"logs/",
            "logMaxSize": 20,
CODE_REMOVED
        },
        "persistence":{
            "factoryClassname":"com.ibm.watsonhealth.fhir.persistence.jpa.FHIRPersistenceJPAFactory",
            "common":{
                "__comment":"Configuration properties common to all persistence layer implementations",
                "updateCreateEnabled":true
            },
            "jpa":{
                "__comment":"Configuration properties for the JPA persistence implementation",
                "useUUIDs":true
            },
            "jdbc":{
                "__comment":"Configuration properties for the JDBC persistence implementation",
                "bootstrapDb":false
            },
            "cloudant":{
                "__comment":"Configuration properties for the Cloudant persistence implementation",
CODE_REMOVED
CODE_REMOVED
CODE_REMOVED
                "dbName":"fhirdb"
            },
            "whclsfRouter":{
                "__comment":"Configuration properties for the WHC-LSF persistence router implementation",
                "ConsentManagementPersistenceInterceptorEnabled":true,
                "ConsentEnforcementPersistenceInterceptorEnabled":true,
                "globalOptInServices":[
                    "Medical Data Mining",
                    "IBM System Administration"
                ],
                "consentEnforcementResourceTypes":[
                    "com.ibm.watsonhealth.fhir.model.QuestionnaireResponse",
                    "com.ibm.watsonhealth.fhir.model.CarePlan",
                    "com.ibm.watsonhealth.fhir.model.MedicationAdministration",
                    "com.ibm.watsonhealth.fhir.model.Device",
                    "com.ibm.watsonhealth.fhir.model.DeviceComponent",
                    "com.ibm.watsonhealth.fhir.model.DeviceMetric",
                    "com.ibm.watsonhealth.fhir.model.MedicationOrder",
                    "com.ibm.watsonhealth.fhir.model.Observation"
                ],
                "consentManager":{
CODE_REMOVED
CODE_REMOVED
CODE_REMOVED
                },
                "clinical":{
                    "factoryClassname":"com.ibm.watsonhealth.fhir.persistence.cloudant.FHIRPersistenceCloudantFactory",
CODE_REMOVED
CODE_REMOVED
CODE_REMOVED
CODE_REMOVED
                },
                "profile":{
                    "factoryClassname":"com.ibm.watsonhealth.fhir.persistence.cloudant.FHIRPersistenceCloudantFactory",
CODE_REMOVED
CODE_REMOVED
CODE_REMOVED
CODE_REMOVED
                },
                "routingRules":[
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Patient",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/profileEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/profileDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/profileDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Practitioner",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/profileEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/profileDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/profileDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Organization",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/profileEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/profileDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/profileDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Location",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/referenceEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/referenceDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/referenceDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.HealthcareService",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/referenceEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/referenceDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/referenceDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Medication",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/referenceEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/referenceDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/referenceDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.AuditEvent",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/referenceEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/referenceDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/referenceDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Basic",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/referenceEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/referenceDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/referenceDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypePersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Group",
                            "factoryJndiName":"Not required for JPA",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router",
                                "entityManagerFactoryJndiName":"jdbc/referenceEntityManagerFactory",
                                "jtaDataSourceJndiName":"jdbc/referenceDataSourceJta",
                                "nonJtaDataSourceJndiName":"jdbc/referenceDataSourceNonJta"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Contract",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.QuestionnaireResponse",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.CarePlan",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.MedicationAdministration",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Device",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.DeviceComponent",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.DeviceMetric",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.MedicationOrder",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    },
                    {
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.rules.impl.ResourceTypeStudyInteractionPersistenceRule",
                        "rule":{
                            "resourceType":"com.ibm.watsonhealth.fhir.model.Observation",
                            "studyLocatorConfigFile":"/study-id-locators.json",
                            "studyIdParameterNameOnSearchContext":"study-id",
                            "persistenceHelper":{
                                "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.router.jpa.JPAPersistenceHelper",
                                "templatePersistenceUnitName":"fhir-persistence-router"
                            }
                        }
                    }
                ],
                "siteLocators":{
                    "com.ibm.watsonhealth.fhir.model.Contract":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.QuestionnaireResponse":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Group":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.CarePlan":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.MedicationAdministration":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Device":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.DeviceComponent":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.DeviceMetric":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.MedicationOrder":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Observation":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    }
                },
                "studyIdLocators":{
                    "com.ibm.watsonhealth.fhir.model.Contract":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.QuestionnaireResponse":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Group":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.CarePlan":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.MedicationAdministration":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Device":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.DeviceComponent":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.DeviceMetric":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.MedicationOrder":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Observation":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    }
                },
                "subjectLocators":{
                    "com.ibm.watsonhealth.fhir.model.Contract":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.QuestionnaireResponse":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.CarePlan":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.MedicationAdministration":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Device":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.DeviceComponent":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.DeviceMetric":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.MedicationOrder":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    },
                    "com.ibm.watsonhealth.fhir.model.Observation":{
                        "type":"com.ibm.watsonhealth.fhir.persistence.whclsf.config.locators.impl.ValueStringByURLLocator",
CODE_REMOVED
                    }
                }
            }
        }
    }
}
